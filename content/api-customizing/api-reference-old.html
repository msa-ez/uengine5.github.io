<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>uEngine6 API Reference | uengine5.github.io</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="uEngine6 API Reference" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="https://bpm-intro.uengine.io/content/api-customizing/api-reference-old.html" />
<meta property="og:url" content="https://bpm-intro.uengine.io/content/api-customizing/api-reference-old.html" />
<meta property="og:site_name" content="uengine5.github.io" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="uEngine6 API Reference" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"uEngine6 API Reference","url":"https://bpm-intro.uengine.io/content/api-customizing/api-reference-old.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=15dc6e5f312a952815ebd692d6710d39de6f8d12">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="https://bpm-intro.uengine.io/">uengine5.github.io</a></h1>
      

      <h1 id="uengine6-api-reference">uEngine6 API Reference</h1>

<h3>원칙</h3>

<ul>
  <li><strong><a href="https://en.wikipedia.org/wiki/HATEOAS">uEngine6 의 모든 API 들은 REST MM 3 인 Hateoas(HAL) 수준을 준수한다</a></strong></li>
  <li>따라서 hybind 와 같은 Javascript binding library 를 통해 쉽게 UI 와 인터랙션 하도록 한다.</li>
</ul>

<h2 id="프로세스-폴더-관리">프로세스 폴더 관리</h2>

<p><strong>/definition</strong></p>

<ul>
  <li>폴더의 생성
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">http</span> <span class="no">PUT</span> <span class="nl">localhost:</span><span class="mi">8080</span><span class="o">/</span><span class="n">definition</span><span class="o">/</span><span class="n">folder</span>
<span class="n">http</span> <span class="no">POST</span> <span class="nl">localhost:</span><span class="mi">8080</span><span class="o">/</span><span class="n">definition</span><span class="o">/</span><span class="n">folder</span><span class="o">/</span><span class="n">folder2</span>
<span class="n">http</span> <span class="no">POST</span> <span class="nl">localhost:</span><span class="mi">8080</span><span class="o">/</span><span class="n">definition</span> <span class="n">name</span><span class="o">=</span><span class="s">"new folder"</span> <span class="n">directory</span><span class="o">=</span><span class="kc">true</span>
</code></pre></div>    </div>
  </li>
  <li>정의의 저장: (raw 가 꼭 들어가야 한다)
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">http</span> <span class="no">POST</span> <span class="nl">localhost:</span><span class="mi">8080</span><span class="o">/</span><span class="n">definition</span><span class="o">/</span><span class="n">raw</span><span class="o">/</span><span class="n">folder</span><span class="o">/</span><span class="n">object1</span><span class="o">.</span><span class="na">json</span> <span class="n">definition</span><span class="o">=</span><span class="s">"Hello"</span>
<span class="n">http</span> <span class="no">POST</span> <span class="nl">localhost:</span><span class="mi">8080</span><span class="o">/</span><span class="n">definition</span><span class="o">/</span><span class="n">raw</span><span class="o">/</span><span class="n">folder</span><span class="o">/</span><span class="n">object2</span><span class="o">.</span><span class="na">json</span> <span class="n">definition</span><span class="o">=</span><span class="s">"Hello this is object 2"</span>
</code></pre></div>    </div>
  </li>
  <li>정의의 인출: (raw 가 꼭 들어가야 한다)
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">http</span> <span class="no">GET</span> <span class="nl">localhost:</span><span class="mi">8080</span><span class="o">/</span><span class="n">definition</span><span class="o">/</span><span class="n">raw</span><span class="o">/</span><span class="n">folder</span><span class="o">/</span><span class="n">object1</span><span class="o">.</span><span class="na">json</span>
<span class="n">http</span> <span class="no">GET</span> <span class="nl">localhost:</span><span class="mi">8080</span><span class="o">/</span><span class="n">definition</span><span class="o">/</span><span class="n">raw</span><span class="o">/</span><span class="n">folder</span><span class="o">/</span><span class="n">object1</span><span class="o">.</span><span class="na">json</span> <span class="n">unwrap</span><span class="o">==</span><span class="kc">true</span> <span class="err">#</span> <span class="n">definition</span> <span class="n">wrapping</span> <span class="n">을</span> <span class="n">하지</span> <span class="n">않음</span>
</code></pre></div>    </div>
  </li>
  <li>파일의 리스팅</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">http</span> <span class="no">GET</span> <span class="nl">localhost:</span><span class="mi">8080</span><span class="o">/</span><span class="n">definition</span>
<span class="n">http</span> <span class="no">GET</span> <span class="nl">localhost:</span><span class="mi">8080</span><span class="o">/</span><span class="n">definition</span><span class="o">/</span><span class="n">folder</span>
</code></pre></div></div>

<h3>결과</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span>
    <span class="s">"_embedded"</span><span class="o">:</span> <span class="o">{</span>
        <span class="s">"definitions"</span><span class="o">:</span> <span class="o">[</span>
            <span class="o">{</span>
                <span class="s">"_links"</span><span class="o">:</span> <span class="o">{</span>
                    <span class="s">"self"</span><span class="o">:</span> <span class="o">{</span>
                        <span class="s">"href"</span><span class="o">:</span> <span class="s">"http://localhost:8080/definition/folder/folder2"</span>
                    <span class="o">}</span>
                <span class="o">},</span> 
                <span class="s">"directory"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
                <span class="s">"name"</span><span class="o">:</span> <span class="s">"folder2"</span><span class="o">,</span> 
                <span class="s">"path"</span><span class="o">:</span> <span class="s">"folder/folder2"</span>
            <span class="o">},</span> 
            <span class="o">{</span>
                <span class="s">"_links"</span><span class="o">:</span> <span class="o">{</span>
                    <span class="s">"raw"</span><span class="o">:</span> <span class="o">{</span>
                        <span class="s">"href"</span><span class="o">:</span> <span class="s">"http://localhost:8080/definition/raw/folder/object1.json"</span>
                    <span class="o">},</span> 
                    <span class="s">"self"</span><span class="o">:</span> <span class="o">{</span>
                        <span class="s">"href"</span><span class="o">:</span> <span class="s">"http://localhost:8080/definition/folder/object1.json"</span>
                    <span class="o">}</span>
                <span class="o">},</span> 
                <span class="s">"directory"</span><span class="o">:</span> <span class="kc">false</span><span class="o">,</span> 
                <span class="s">"name"</span><span class="o">:</span> <span class="s">"object1.json"</span><span class="o">,</span> 
                <span class="s">"path"</span><span class="o">:</span> <span class="s">"folder/object1.json"</span>
            <span class="o">},</span> 
            <span class="o">{</span>
                <span class="s">"_links"</span><span class="o">:</span> <span class="o">{</span>
                    <span class="s">"raw"</span><span class="o">:</span> <span class="o">{</span>
                        <span class="s">"href"</span><span class="o">:</span> <span class="s">"http://localhost:8080/definition/raw/folder/object2.json"</span>
                    <span class="o">},</span> 
                    <span class="s">"self"</span><span class="o">:</span> <span class="o">{</span>
                        <span class="s">"href"</span><span class="o">:</span> <span class="s">"http://localhost:8080/definition/folder/object2.json"</span>
                    <span class="o">}</span>
                <span class="o">},</span> 
                <span class="s">"directory"</span><span class="o">:</span> <span class="kc">false</span><span class="o">,</span> 
                <span class="s">"name"</span><span class="o">:</span> <span class="s">"object2.json"</span><span class="o">,</span> 
                <span class="s">"path"</span><span class="o">:</span> <span class="s">"folder/object2.json"</span>
            <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>파일명의 변경
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">http</span> <span class="no">PATCH</span> <span class="nl">localhost:</span><span class="mi">8080</span><span class="o">/</span><span class="n">definition</span><span class="o">/</span><span class="n">folder</span><span class="o">/</span><span class="n">object1</span><span class="o">.</span><span class="na">json</span> <span class="n">path</span><span class="o">=</span><span class="s">"folder/object_one.json"</span>
</code></pre></div>    </div>
  </li>
  <li>파일위치의 변경
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">http</span> <span class="no">PATCH</span> <span class="nl">localhost:</span><span class="mi">8080</span><span class="o">/</span><span class="n">definition</span><span class="o">/</span><span class="n">folder</span><span class="o">/</span><span class="n">object2</span><span class="o">.</span><span class="na">json</span> <span class="n">path</span><span class="o">=</span><span class="s">"folder/folder2/object2.json"</span>
</code></pre></div>    </div>
  </li>
  <li>폴더명의 변경
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">http</span> <span class="no">PATCH</span> <span class="nl">localhost:</span><span class="mi">8080</span><span class="o">/</span><span class="n">definition</span><span class="o">/</span><span class="n">folder</span><span class="o">/</span><span class="n">folder2</span> <span class="n">path</span><span class="o">=</span><span class="s">"folder/folder_two"</span>
</code></pre></div>    </div>
  </li>
  <li>파일/폴더의 삭제
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">http</span> <span class="no">DELETE</span> <span class="nl">localhost:</span><span class="mi">8080</span><span class="o">/</span><span class="n">definition</span><span class="o">/</span><span class="n">folder</span><span class="o">/</span><span class="n">folder_two</span>
<span class="n">http</span> <span class="no">DELETE</span> <span class="nl">localhost:</span><span class="mi">8080</span><span class="o">/</span><span class="n">definition</span><span class="o">/</span><span class="n">folder</span><span class="o">/</span><span class="n">object2</span><span class="o">.</span><span class="na">json</span>
</code></pre></div>    </div>
  </li>
  <li>프로세스 정의 디플로이
    <ul>
      <li>다음을 body 로 하여, localhost:8080/definition/raw/process.json 으로 POST 한다:
        <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">vi</span> <span class="n">process</span><span class="o">.</span><span class="na">json</span>
<span class="n">http</span> <span class="nl">localhost:</span><span class="mi">8080</span><span class="o">/</span><span class="n">definition</span><span class="o">/</span><span class="n">raw</span><span class="o">/</span><span class="n">process</span><span class="o">.</span><span class="na">json</span> <span class="o">&lt;</span> <span class="n">process</span><span class="o">.</span><span class="na">json</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>

<h2 id="프로세스-정의-관리">프로세스 정의 관리</h2>

<details>
<summary>프로세스 정의 JSON Code</summary>
<div>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span>
    <span class="s">"definition"</span><span class="o">:</span> <span class="o">{</span>
        <span class="s">"_type"</span><span class="o">:</span> <span class="s">"org.uengine.kernel.ProcessDefinition"</span><span class="o">,</span> 
        <span class="s">"adhoc"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
        <span class="s">"archive"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
        <span class="s">"childActivities"</span><span class="o">:</span> <span class="o">[</span>
            <span class="s">"java.util.ArrayList"</span><span class="o">,</span> 
            <span class="o">[</span>
                <span class="o">{</span>
                    <span class="s">"_type"</span><span class="o">:</span> <span class="s">"org.uengine.kernel.bpmn.StartEvent"</span><span class="o">,</span> 
                    <span class="s">"description"</span><span class="o">:</span> <span class="o">{},</span> 
                    <span class="s">"dynamicChangeAllowed"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
                    <span class="s">"elementView"</span><span class="o">:</span> <span class="o">{</span>
                        <span class="s">"_type"</span><span class="o">:</span> <span class="s">"org.uengine.kernel.view.DefaultActivityView"</span><span class="o">,</span> 
                        <span class="s">"height"</span><span class="o">:</span> <span class="mf">30.0</span><span class="o">,</span> 
                        <span class="s">"id"</span><span class="o">:</span> <span class="s">"2"</span><span class="o">,</span> 
                        <span class="s">"parent"</span><span class="o">:</span> <span class="s">"d2852bad-5291-5ca4-aaf5-b61eac1d3aa7"</span><span class="o">,</span> 
                        <span class="s">"shapeId"</span><span class="o">:</span> <span class="s">"OG.shape.bpmn.A_Task"</span><span class="o">,</span> 
                        <span class="s">"style"</span><span class="o">:</span> <span class="s">"{\"stroke\":\"black\",\"fill-r\":\".5\",\"fill-cx\":\".5\",\"fill-cy\":\".5\",\"fill\":\"white\",\"fill-opacity\":0,\"label-position\":\"bottom\",\"stroke-width\":1.5,\"cursor\":\"move\"}"</span><span class="o">,</span> 
                        <span class="s">"width"</span><span class="o">:</span> <span class="mf">30.0</span><span class="o">,</span> 
                        <span class="s">"x"</span><span class="o">:</span> <span class="mf">263.0</span><span class="o">,</span> 
                        <span class="s">"y"</span><span class="o">:</span> <span class="mf">187.0</span>
                    <span class="o">},</span> 
                    <span class="s">"isDynamicChangeAllowed"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
                    <span class="s">"name"</span><span class="o">:</span> <span class="o">{},</span> 
                    <span class="s">"retryDelay"</span><span class="o">:</span> <span class="mi">60</span><span class="o">,</span> 
                    <span class="s">"tracingTag"</span><span class="o">:</span> <span class="s">"2"</span>
                <span class="o">},</span> 
                <span class="o">{</span>
                    <span class="s">"_type"</span><span class="o">:</span> <span class="s">"org.uengine.kernel.bpmn.EndEvent"</span><span class="o">,</span> 
                    <span class="s">"description"</span><span class="o">:</span> <span class="o">{},</span> 
                    <span class="s">"dynamicChangeAllowed"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
                    <span class="s">"elementView"</span><span class="o">:</span> <span class="o">{</span>
                        <span class="s">"_type"</span><span class="o">:</span> <span class="s">"org.uengine.kernel.view.DefaultActivityView"</span><span class="o">,</span> 
                        <span class="s">"height"</span><span class="o">:</span> <span class="mf">30.0</span><span class="o">,</span> 
                        <span class="s">"id"</span><span class="o">:</span> <span class="s">"3"</span><span class="o">,</span> 
                        <span class="s">"parent"</span><span class="o">:</span> <span class="s">"d2852bad-5291-5ca4-aaf5-b61eac1d3aa7"</span><span class="o">,</span> 
                        <span class="s">"shapeId"</span><span class="o">:</span> <span class="s">"OG.shape.bpmn.A_Task"</span><span class="o">,</span> 
                        <span class="s">"style"</span><span class="o">:</span> <span class="s">"{\"stroke\":\"black\",\"fill-r\":\".5\",\"fill-cx\":\".5\",\"fill-cy\":\".5\",\"fill\":\"white\",\"fill-opacity\":0,\"label-position\":\"bottom\",\"stroke-width\":3,\"cursor\":\"move\"}"</span><span class="o">,</span> 
                        <span class="s">"width"</span><span class="o">:</span> <span class="mf">30.0</span><span class="o">,</span> 
                        <span class="s">"x"</span><span class="o">:</span> <span class="mf">767.0</span><span class="o">,</span> 
                        <span class="s">"y"</span><span class="o">:</span> <span class="mf">188.0</span>
                    <span class="o">},</span> 
                    <span class="s">"isDynamicChangeAllowed"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
                    <span class="s">"name"</span><span class="o">:</span> <span class="o">{},</span> 
                    <span class="s">"retryDelay"</span><span class="o">:</span> <span class="mi">60</span><span class="o">,</span> 
                    <span class="s">"tracingTag"</span><span class="o">:</span> <span class="s">"3"</span>
                <span class="o">},</span> 
                <span class="o">{</span>
                    <span class="s">"_type"</span><span class="o">:</span> <span class="s">"org.uengine.kernel.bpmn.CallActivity"</span><span class="o">,</span> 
                    <span class="s">"definitionId"</span><span class="o">:</span> <span class="s">"new-process-definition4"</span><span class="o">,</span> 
                    <span class="s">"description"</span><span class="o">:</span> <span class="o">{},</span> 
                    <span class="s">"dynamicChangeAllowed"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
                    <span class="s">"elementView"</span><span class="o">:</span> <span class="o">{</span>
                        <span class="s">"_type"</span><span class="o">:</span> <span class="s">"org.uengine.kernel.view.DefaultActivityView"</span><span class="o">,</span> 
                        <span class="s">"height"</span><span class="o">:</span> <span class="mf">100.0</span><span class="o">,</span> 
                        <span class="s">"id"</span><span class="o">:</span> <span class="s">"6"</span><span class="o">,</span> 
                        <span class="s">"parent"</span><span class="o">:</span> <span class="s">"d2852bad-5291-5ca4-aaf5-b61eac1d3aa7"</span><span class="o">,</span> 
                        <span class="s">"shapeId"</span><span class="o">:</span> <span class="s">"OG.shape.bpmn.A_Task"</span><span class="o">,</span> 
                        <span class="s">"style"</span><span class="o">:</span> <span class="s">"{\"stroke\":\"black\",\"fill-r\":1,\"fill-cx\":0.1,\"fill-cy\":0.1,\"fill\":\"#FFFFFF\",\"fill-opacity\":0,\"label-position\":\"center\",\"stroke-width\":3,\"r\":\"10\",\"cursor\":\"move\"}"</span><span class="o">,</span> 
                        <span class="s">"width"</span><span class="o">:</span> <span class="mf">100.0</span><span class="o">,</span> 
                        <span class="s">"x"</span><span class="o">:</span> <span class="mf">531.0</span><span class="o">,</span> 
                        <span class="s">"y"</span><span class="o">:</span> <span class="mf">371.0</span>
                    <span class="o">},</span> 
                    <span class="s">"instanceId"</span><span class="o">:</span> <span class="s">"&lt;%=Instance.Name%&gt;"</span><span class="o">,</span> 
                    <span class="s">"isDynamicChangeAllowed"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
                    <span class="s">"multipleInstanceLabel"</span><span class="o">:</span> <span class="o">{},</span> 
                    <span class="s">"name"</span><span class="o">:</span> <span class="o">{</span>
                        <span class="s">"text"</span><span class="o">:</span> <span class="s">"????"</span>
                    <span class="o">},</span> 
                    <span class="s">"retryDelay"</span><span class="o">:</span> <span class="mi">60</span><span class="o">,</span> 
                    <span class="s">"roleBindings"</span><span class="o">:</span> <span class="o">[</span>
                        <span class="o">{</span>
                            <span class="s">"argument"</span><span class="o">:</span> <span class="s">"role1"</span><span class="o">,</span> 
                            <span class="s">"direction"</span><span class="o">:</span> <span class="s">"IN-OUT"</span><span class="o">,</span> 
                            <span class="s">"role"</span><span class="o">:</span> <span class="o">{</span>
                                <span class="s">"askWhenInit"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
                                <span class="s">"displayName"</span><span class="o">:</span> <span class="o">{},</span> 
                                <span class="s">"name"</span><span class="o">:</span> <span class="s">"role1"</span>
                            <span class="o">}</span>
                        <span class="o">},</span> 
                        <span class="o">{</span>
                            <span class="s">"argument"</span><span class="o">:</span> <span class="s">"role2"</span><span class="o">,</span> 
                            <span class="s">"direction"</span><span class="o">:</span> <span class="s">"IN-OUT"</span><span class="o">,</span> 
                            <span class="s">"role"</span><span class="o">:</span> <span class="o">{</span>
                                <span class="s">"askWhenInit"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
                                <span class="s">"displayName"</span><span class="o">:</span> <span class="o">{},</span> 
                                <span class="s">"name"</span><span class="o">:</span> <span class="s">"role2"</span>
                            <span class="o">}</span>
                        <span class="o">}</span>
                    <span class="o">],</span> 
                    <span class="s">"tracingTag"</span><span class="o">:</span> <span class="s">"6"</span><span class="o">,</span> 
                    <span class="s">"variableBindings"</span><span class="o">:</span> <span class="o">[</span>
                        <span class="o">{</span>
                            <span class="s">"argument"</span><span class="o">:</span> <span class="o">{</span>
                                <span class="s">"text"</span><span class="o">:</span> <span class="s">"aaa"</span>
                            <span class="o">},</span> 
                            <span class="s">"direction"</span><span class="o">:</span> <span class="s">"IN-OUT"</span><span class="o">,</span> 
                            <span class="s">"variable"</span><span class="o">:</span> <span class="o">{</span>
                                <span class="s">"defaultValue"</span><span class="o">:</span> <span class="s">""</span><span class="o">,</span> 
                                <span class="s">"displayName"</span><span class="o">:</span> <span class="o">{},</span> 
                                <span class="s">"name"</span><span class="o">:</span> <span class="s">"aaa"</span><span class="o">,</span> 
                                <span class="s">"type"</span><span class="o">:</span> <span class="s">"java.lang.String"</span><span class="o">,</span> 
                                <span class="s">"typeClassName"</span><span class="o">:</span> <span class="s">"java.lang.String"</span>
                            <span class="o">}</span>
                        <span class="o">},</span> 
                        <span class="o">{</span>
                            <span class="s">"argument"</span><span class="o">:</span> <span class="o">{</span>
                                <span class="s">"text"</span><span class="o">:</span> <span class="s">"bbb"</span>
                            <span class="o">},</span> 
                            <span class="s">"direction"</span><span class="o">:</span> <span class="s">"IN-OUT"</span><span class="o">,</span> 
                            <span class="s">"variable"</span><span class="o">:</span> <span class="o">{</span>
                                <span class="s">"defaultValue"</span><span class="o">:</span> <span class="s">""</span><span class="o">,</span> 
                                <span class="s">"displayName"</span><span class="o">:</span> <span class="o">{},</span> 
                                <span class="s">"name"</span><span class="o">:</span> <span class="s">"bbb"</span><span class="o">,</span> 
                                <span class="s">"type"</span><span class="o">:</span> <span class="s">"java.lang.String"</span><span class="o">,</span> 
                                <span class="s">"typeClassName"</span><span class="o">:</span> <span class="s">"java.lang.String"</span>
                            <span class="o">}</span>
                        <span class="o">}</span>
                    <span class="o">]</span>
                <span class="o">},</span> 
                <span class="o">{</span>
                    <span class="s">"_type"</span><span class="o">:</span> <span class="s">"org.uengine.kernel.HumanActivity"</span><span class="o">,</span> 
                    <span class="s">"allowAnonymous"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
                    <span class="s">"description"</span><span class="o">:</span> <span class="o">{},</span> 
                    <span class="s">"duration"</span><span class="o">:</span> <span class="mi">5</span><span class="o">,</span> 
                    <span class="s">"dynamicChangeAllowed"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
                    <span class="s">"elementView"</span><span class="o">:</span> <span class="o">{</span>
                        <span class="s">"_type"</span><span class="o">:</span> <span class="s">"org.uengine.kernel.view.DefaultActivityView"</span><span class="o">,</span> 
                        <span class="s">"height"</span><span class="o">:</span> <span class="mf">100.0</span><span class="o">,</span> 
                        <span class="s">"id"</span><span class="o">:</span> <span class="s">"4"</span><span class="o">,</span> 
                        <span class="s">"parent"</span><span class="o">:</span> <span class="s">"d2852bad-5291-5ca4-aaf5-b61eac1d3aa7"</span><span class="o">,</span> 
                        <span class="s">"shapeId"</span><span class="o">:</span> <span class="s">"OG.shape.bpmn.A_Task"</span><span class="o">,</span> 
                        <span class="s">"style"</span><span class="o">:</span> <span class="s">"{\"stroke\":\"black\",\"fill-r\":1,\"fill-cx\":0.1,\"fill-cy\":0.1,\"fill\":\"#FFFFFF\",\"fill-opacity\":0,\"label-position\":\"center\",\"stroke-width\":1.2,\"r\":\"10\",\"cursor\":\"move\"}"</span><span class="o">,</span> 
                        <span class="s">"width"</span><span class="o">:</span> <span class="mf">100.0</span><span class="o">,</span> 
                        <span class="s">"x"</span><span class="o">:</span> <span class="mf">431.0</span><span class="o">,</span> 
                        <span class="s">"y"</span><span class="o">:</span> <span class="mf">187.0</span>
                    <span class="o">},</span> 
                    <span class="s">"instruction"</span><span class="o">:</span> <span class="o">{},</span> 
                    <span class="s">"isAllowAnonymous"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
                    <span class="s">"isDynamicChangeAllowed"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
                    <span class="s">"isSendEmailWorkitem"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
                    <span class="s">"keyword"</span><span class="o">:</span> <span class="o">{},</span> 
                    <span class="s">"name"</span><span class="o">:</span> <span class="o">{</span>
                        <span class="s">"text"</span><span class="o">:</span> <span class="s">"??2"</span>
                    <span class="o">},</span> 
                    <span class="s">"parameters"</span><span class="o">:</span> <span class="o">[</span>
                        <span class="o">{</span>
                            <span class="s">"argument"</span><span class="o">:</span> <span class="o">{</span>
                                <span class="s">"text"</span><span class="o">:</span> <span class="s">"arg"</span>
                            <span class="o">},</span> 
                            <span class="s">"direction"</span><span class="o">:</span> <span class="s">"OUT"</span><span class="o">,</span> 
                            <span class="s">"multipleInput"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
                            <span class="s">"variable"</span><span class="o">:</span> <span class="o">{</span>
                                <span class="s">"defaultValue"</span><span class="o">:</span> <span class="s">""</span><span class="o">,</span> 
                                <span class="s">"displayName"</span><span class="o">:</span> <span class="o">{},</span> 
                                <span class="s">"name"</span><span class="o">:</span> <span class="s">"aaa"</span><span class="o">,</span> 
                                <span class="s">"type"</span><span class="o">:</span> <span class="s">"java.lang.String"</span><span class="o">,</span> 
                                <span class="s">"typeClassName"</span><span class="o">:</span> <span class="s">"java.lang.String"</span>
                            <span class="o">}</span>
                        <span class="o">},</span> 
                        <span class="o">{</span>
                            <span class="s">"argument"</span><span class="o">:</span> <span class="o">{</span>
                                <span class="s">"text"</span><span class="o">:</span> <span class="s">"arg2"</span>
                            <span class="o">},</span> 
                            <span class="s">"direction"</span><span class="o">:</span> <span class="s">"OUT"</span><span class="o">,</span> 
                            <span class="s">"variable"</span><span class="o">:</span> <span class="o">{</span>
                                <span class="s">"defaultValue"</span><span class="o">:</span> <span class="s">""</span><span class="o">,</span> 
                                <span class="s">"displayName"</span><span class="o">:</span> <span class="o">{},</span> 
                                <span class="s">"name"</span><span class="o">:</span> <span class="s">"bbb"</span><span class="o">,</span> 
                                <span class="s">"type"</span><span class="o">:</span> <span class="s">"java.lang.String"</span><span class="o">,</span> 
                                <span class="s">"typeClassName"</span><span class="o">:</span> <span class="s">"java.lang.String"</span>
                            <span class="o">}</span>
                        <span class="o">}</span>
                    <span class="o">],</span> 
                    <span class="s">"retryDelay"</span><span class="o">:</span> <span class="mi">60</span><span class="o">,</span> 
                    <span class="s">"role"</span><span class="o">:</span> <span class="o">{</span>
                        <span class="s">"askWhenInit"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
                        <span class="s">"displayName"</span><span class="o">:</span> <span class="o">{},</span> 
                        <span class="s">"elementView"</span><span class="o">:</span> <span class="o">{</span>
                            <span class="s">"_type"</span><span class="o">:</span> <span class="s">"org.uengine.kernel.view.DefaultActivityView"</span><span class="o">,</span> 
                            <span class="s">"height"</span><span class="o">:</span> <span class="mf">218.0</span><span class="o">,</span> 
                            <span class="s">"id"</span><span class="o">:</span> <span class="s">"OG_3580_88"</span><span class="o">,</span> 
                            <span class="s">"parent"</span><span class="o">:</span> <span class="s">"d2852bad-5291-5ca4-aaf5-b61eac1d3aa7"</span><span class="o">,</span> 
                            <span class="s">"shapeId"</span><span class="o">:</span> <span class="s">"OG.shape.bpmn.A_Task"</span><span class="o">,</span> 
                            <span class="s">"style"</span><span class="o">:</span> <span class="s">"{\"stroke\":\"black\",\"fill-r\":\".5\",\"fill-cx\":\".5\",\"fill-cy\":\".5\",\"fill\":\"#ffffff\",\"fill-opacity\":0,\"label-position\":\"center\",\"label-direction\":\"vertical\",\"vertical-align\":\"top\",\"cursor\":\"move\"}"</span><span class="o">,</span> 
                            <span class="s">"width"</span><span class="o">:</span> <span class="mf">690.0</span><span class="o">,</span> 
                            <span class="s">"x"</span><span class="o">:</span> <span class="mf">528.0</span><span class="o">,</span> 
                            <span class="s">"y"</span><span class="o">:</span> <span class="mf">187.0</span>
                        <span class="o">},</span> 
                        <span class="s">"name"</span><span class="o">:</span> <span class="s">"role1"</span>
                    <span class="o">},</span> 
                    <span class="s">"sendEmailWorkitem"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
                    <span class="s">"tool"</span><span class="o">:</span> <span class="s">"defaultHandler"</span><span class="o">,</span> 
                    <span class="s">"tracingTag"</span><span class="o">:</span> <span class="s">"4"</span>
                <span class="o">}</span>
            <span class="o">]</span>
        <span class="o">],</span> 
        <span class="s">"defaultFlowchartViewOption"</span><span class="o">:</span> <span class="s">"vertical"</span><span class="o">,</span> 
        <span class="s">"defaultFlowchartViewType"</span><span class="o">:</span> <span class="s">"swimlane"</span><span class="o">,</span> 
        <span class="s">"duration"</span><span class="o">:</span> <span class="mi">10</span><span class="o">,</span> 
        <span class="s">"dynamicChangeAllowed"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
        <span class="s">"id"</span><span class="o">:</span> <span class="s">"codi/new-process-definition4.json"</span><span class="o">,</span> 
        <span class="s">"initiateByFirstWorkitem"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
        <span class="s">"isAdhoc"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
        <span class="s">"isDynamicChangeAllowed"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
        <span class="s">"name"</span><span class="o">:</span> <span class="o">{</span>
            <span class="s">"text"</span><span class="o">:</span> <span class="s">"codi/new-process-definition4.json"</span>
        <span class="o">},</span> 
        <span class="s">"processVariableDescriptors"</span><span class="o">:</span> <span class="o">[</span>
            <span class="o">{</span>
                <span class="s">"defaultValue"</span><span class="o">:</span> <span class="s">""</span><span class="o">,</span> 
                <span class="s">"displayName"</span><span class="o">:</span> <span class="o">{},</span> 
                <span class="s">"name"</span><span class="o">:</span> <span class="s">"aaa"</span><span class="o">,</span> 
                <span class="s">"type"</span><span class="o">:</span> <span class="s">"java.lang.String"</span><span class="o">,</span> 
                <span class="s">"typeClassName"</span><span class="o">:</span> <span class="s">"java.lang.String"</span>
            <span class="o">},</span> 
            <span class="o">{</span>
                <span class="s">"defaultValue"</span><span class="o">:</span> <span class="s">""</span><span class="o">,</span> 
                <span class="s">"displayName"</span><span class="o">:</span> <span class="o">{},</span> 
                <span class="s">"name"</span><span class="o">:</span> <span class="s">"bbb"</span><span class="o">,</span> 
                <span class="s">"type"</span><span class="o">:</span> <span class="s">"java.lang.String"</span><span class="o">,</span> 
                <span class="s">"typeClassName"</span><span class="o">:</span> <span class="s">"java.lang.String"</span>
            <span class="o">}</span>
        <span class="o">],</span> 
        <span class="s">"retryDelay"</span><span class="o">:</span> <span class="mi">60</span><span class="o">,</span> 
        <span class="s">"roles"</span><span class="o">:</span> <span class="o">[</span>
            <span class="o">{</span>
                <span class="s">"askWhenInit"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
                <span class="s">"displayName"</span><span class="o">:</span> <span class="o">{},</span> 
                <span class="s">"elementView"</span><span class="o">:</span> <span class="o">{</span>
                    <span class="s">"_type"</span><span class="o">:</span> <span class="s">"org.uengine.kernel.view.DefaultActivityView"</span><span class="o">,</span> 
                    <span class="s">"height"</span><span class="o">:</span> <span class="mf">370.0</span><span class="o">,</span> 
                    <span class="s">"id"</span><span class="o">:</span> <span class="s">"d2852bad-5291-5ca4-aaf5-b61eac1d3aa7"</span><span class="o">,</span> 
                    <span class="s">"shapeId"</span><span class="o">:</span> <span class="s">"OG.shape.bpmn.A_Task"</span><span class="o">,</span> 
                    <span class="s">"style"</span><span class="o">:</span> <span class="s">"{\"stroke\":\"black\",\"fill-r\":\".5\",\"fill-cx\":\".5\",\"fill-cy\":\".5\",\"fill\":\"#ffffff\",\"fill-opacity\":0,\"label-position\":\"center\",\"label-direction\":\"vertical\",\"vertical-align\":\"top\",\"cursor\":\"move\"}"</span><span class="o">,</span> 
                    <span class="s">"width"</span><span class="o">:</span> <span class="mf">710.0</span><span class="o">,</span> 
                    <span class="s">"x"</span><span class="o">:</span> <span class="mf">518.0</span><span class="o">,</span> 
                    <span class="s">"y"</span><span class="o">:</span> <span class="mf">263.0</span>
                <span class="o">},</span> 
                <span class="s">"name"</span><span class="o">:</span> <span class="s">"team"</span>
            <span class="o">},</span> 
            <span class="o">{</span>
                <span class="s">"askWhenInit"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
                <span class="s">"displayName"</span><span class="o">:</span> <span class="o">{},</span> 
                <span class="s">"elementView"</span><span class="o">:</span> <span class="o">{</span>
                    <span class="s">"_type"</span><span class="o">:</span> <span class="s">"org.uengine.kernel.view.DefaultActivityView"</span><span class="o">,</span> 
                    <span class="s">"height"</span><span class="o">:</span> <span class="mf">218.0</span><span class="o">,</span> 
                    <span class="s">"id"</span><span class="o">:</span> <span class="s">"OG_3580_88"</span><span class="o">,</span> 
                    <span class="s">"parent"</span><span class="o">:</span> <span class="s">"d2852bad-5291-5ca4-aaf5-b61eac1d3aa7"</span><span class="o">,</span> 
                    <span class="s">"shapeId"</span><span class="o">:</span> <span class="s">"OG.shape.bpmn.A_Task"</span><span class="o">,</span> 
                    <span class="s">"style"</span><span class="o">:</span> <span class="s">"{\"stroke\":\"black\",\"fill-r\":\".5\",\"fill-cx\":\".5\",\"fill-cy\":\".5\",\"fill\":\"#ffffff\",\"fill-opacity\":0,\"label-position\":\"center\",\"label-direction\":\"vertical\",\"vertical-align\":\"top\",\"cursor\":\"move\"}"</span><span class="o">,</span> 
                    <span class="s">"width"</span><span class="o">:</span> <span class="mf">690.0</span><span class="o">,</span> 
                    <span class="s">"x"</span><span class="o">:</span> <span class="mf">528.0</span><span class="o">,</span> 
                    <span class="s">"y"</span><span class="o">:</span> <span class="mf">187.0</span>
                <span class="o">},</span> 
                <span class="s">"name"</span><span class="o">:</span> <span class="s">"role1"</span>
            <span class="o">},</span> 
            <span class="o">{</span>
                <span class="s">"askWhenInit"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> 
                <span class="s">"displayName"</span><span class="o">:</span> <span class="o">{},</span> 
                <span class="s">"elementView"</span><span class="o">:</span> <span class="o">{</span>
                    <span class="s">"_type"</span><span class="o">:</span> <span class="s">"org.uengine.kernel.view.DefaultActivityView"</span><span class="o">,</span> 
                    <span class="s">"height"</span><span class="o">:</span> <span class="mf">152.0</span><span class="o">,</span> 
                    <span class="s">"id"</span><span class="o">:</span> <span class="s">"OG_3580_92"</span><span class="o">,</span> 
                    <span class="s">"parent"</span><span class="o">:</span> <span class="s">"d2852bad-5291-5ca4-aaf5-b61eac1d3aa7"</span><span class="o">,</span> 
                    <span class="s">"shapeId"</span><span class="o">:</span> <span class="s">"OG.shape.bpmn.A_Task"</span><span class="o">,</span> 
                    <span class="s">"style"</span><span class="o">:</span> <span class="s">"{\"stroke\":\"black\",\"fill-r\":\".5\",\"fill-cx\":\".5\",\"fill-cy\":\".5\",\"fill\":\"#ffffff\",\"fill-opacity\":0,\"label-position\":\"center\",\"label-direction\":\"vertical\",\"vertical-align\":\"top\",\"cursor\":\"move\"}"</span><span class="o">,</span> 
                    <span class="s">"width"</span><span class="o">:</span> <span class="mf">690.0</span><span class="o">,</span> 
                    <span class="s">"x"</span><span class="o">:</span> <span class="mf">528.0</span><span class="o">,</span> 
                    <span class="s">"y"</span><span class="o">:</span> <span class="mf">372.0</span>
                <span class="o">},</span> 
                <span class="s">"name"</span><span class="o">:</span> <span class="s">"role2"</span>
            <span class="o">}</span>
        <span class="o">],</span> 
        <span class="s">"sequenceFlows"</span><span class="o">:</span> <span class="o">[</span>
            <span class="o">{</span>
                <span class="s">"condition"</span><span class="o">:</span> <span class="o">{</span>
                    <span class="s">"_type"</span><span class="o">:</span> <span class="s">"org.uengine.kernel.ExpressionEvaluateCondition"</span><span class="o">,</span> 
                    <span class="s">"description"</span><span class="o">:</span> <span class="o">{}</span>
                <span class="o">},</span> 
                <span class="s">"relationView"</span><span class="o">:</span> <span class="o">{</span>
                    <span class="s">"TERMINAL_IN_OUT"</span><span class="o">:</span> <span class="s">"_TERMINAL_C_INOUT_0"</span><span class="o">,</span> 
                    <span class="s">"shapeId"</span><span class="o">:</span> <span class="s">"OG.shape.bpmn.C_Flow"</span><span class="o">,</span> 
                    <span class="s">"style"</span><span class="o">:</span> <span class="s">"{\"stroke\":\"black\",\"fill-r\":\".5\",\"fill-cx\":\".5\",\"fill-cy\":\".5\",\"fill\":\"none\",\"fill-opacity\":0,\"label-position\":\"center\",\"stroke-width\":1.5,\"stroke-opacity\":1,\"edge-type\":\"plain\",\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke-dasharray\":\"\",\"stroke-linejoin\":\"round\",\"cursor\":\"pointer\"}"</span><span class="o">,</span> 
                    <span class="s">"value"</span><span class="o">:</span> <span class="s">"[[278,188],[381,188]]"</span>
                <span class="o">},</span> 
                <span class="s">"sourceRef"</span><span class="o">:</span> <span class="s">"2"</span><span class="o">,</span> 
                <span class="s">"targetRef"</span><span class="o">:</span> <span class="s">"4"</span>
            <span class="o">},</span> 
            <span class="o">{</span>
                <span class="s">"condition"</span><span class="o">:</span> <span class="o">{</span>
                    <span class="s">"_type"</span><span class="o">:</span> <span class="s">"org.uengine.kernel.ExpressionEvaluateCondition"</span><span class="o">,</span> 
                    <span class="s">"description"</span><span class="o">:</span> <span class="o">{}</span>
                <span class="o">},</span> 
                <span class="s">"relationView"</span><span class="o">:</span> <span class="o">{</span>
                    <span class="s">"TERMINAL_IN_OUT"</span><span class="o">:</span> <span class="s">"_TERMINAL_C_INOUT_0"</span><span class="o">,</span> 
                    <span class="s">"shapeId"</span><span class="o">:</span> <span class="s">"OG.shape.bpmn.C_Flow"</span><span class="o">,</span> 
                    <span class="s">"style"</span><span class="o">:</span> <span class="s">"{\"stroke\":\"black\",\"fill-r\":\".5\",\"fill-cx\":\".5\",\"fill-cy\":\".5\",\"fill\":\"none\",\"fill-opacity\":0,\"label-position\":\"center\",\"stroke-width\":1.5,\"stroke-opacity\":1,\"edge-type\":\"plain\",\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke-dasharray\":\"\",\"stroke-linejoin\":\"round\",\"cursor\":\"pointer\"}"</span><span class="o">,</span> 
                    <span class="s">"value"</span><span class="o">:</span> <span class="s">"[[432,237],[432,268],[532,268],[532,321]]"</span>
                <span class="o">},</span> 
                <span class="s">"sourceRef"</span><span class="o">:</span> <span class="s">"4"</span><span class="o">,</span> 
                <span class="s">"targetRef"</span><span class="o">:</span> <span class="s">"6"</span>
            <span class="o">},</span> 
            <span class="o">{</span>
                <span class="s">"condition"</span><span class="o">:</span> <span class="o">{</span>
                    <span class="s">"_type"</span><span class="o">:</span> <span class="s">"org.uengine.kernel.ExpressionEvaluateCondition"</span><span class="o">,</span> 
                    <span class="s">"description"</span><span class="o">:</span> <span class="o">{}</span>
                <span class="o">},</span> 
                <span class="s">"relationView"</span><span class="o">:</span> <span class="o">{</span>
                    <span class="s">"TERMINAL_IN_OUT"</span><span class="o">:</span> <span class="s">"_TERMINAL_C_INOUT_0"</span><span class="o">,</span> 
                    <span class="s">"shapeId"</span><span class="o">:</span> <span class="s">"OG.shape.bpmn.C_Flow"</span><span class="o">,</span> 
                    <span class="s">"style"</span><span class="o">:</span> <span class="s">"{\"stroke\":\"black\",\"fill-r\":\".5\",\"fill-cx\":\".5\",\"fill-cy\":\".5\",\"fill\":\"none\",\"fill-opacity\":0,\"label-position\":\"center\",\"stroke-width\":1.5,\"stroke-opacity\":1,\"edge-type\":\"plain\",\"arrow-start\":\"none\",\"arrow-end\":\"block\",\"stroke-dasharray\":\"\",\"stroke-linejoin\":\"round\",\"cursor\":\"pointer\"}"</span><span class="o">,</span> 
                    <span class="s">"value"</span><span class="o">:</span> <span class="s">"[[581,372],[668,372],[668,188],[752,188]]"</span>
                <span class="o">},</span> 
                <span class="s">"sourceRef"</span><span class="o">:</span> <span class="s">"6"</span><span class="o">,</span> 
                <span class="s">"targetRef"</span><span class="o">:</span> <span class="s">"3"</span>
            <span class="o">}</span>
        <span class="o">],</span> 
        <span class="s">"simulationInputFrequency"</span><span class="o">:</span> <span class="mi">10</span><span class="o">,</span> 
        <span class="s">"simulationInstanceCount"</span><span class="o">:</span> <span class="mi">10</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>    </div>
  </div>
</details>

<ul>
  <li>디플로이 결과:
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span>
  <span class="s">"_links"</span><span class="o">:</span> <span class="o">{</span>
      <span class="s">"instantiation"</span><span class="o">:</span> <span class="o">{</span>
          <span class="s">"href"</span><span class="o">:</span> <span class="s">"http://localhost:8080/definition/instance/process.json"</span>
      <span class="o">},</span> 
      <span class="s">"raw"</span><span class="o">:</span> <span class="o">{</span>
          <span class="s">"href"</span><span class="o">:</span> <span class="s">"http://localhost:8080/definition/raw/process.json"</span>
      <span class="o">},</span> 
      <span class="s">"self"</span><span class="o">:</span> <span class="o">{</span>
          <span class="s">"href"</span><span class="o">:</span> <span class="s">"http://localhost:8080/definition/process.json"</span>
      <span class="o">}</span>
  <span class="o">},</span> 
  <span class="s">"directory"</span><span class="o">:</span> <span class="kc">false</span><span class="o">,</span> 
  <span class="s">"name"</span><span class="o">:</span> <span class="s">"process.json"</span><span class="o">,</span> 
  <span class="s">"path"</span><span class="o">:</span> <span class="s">"process.json"</span>
<span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="프로세스-instantiation-생성">프로세스 instantiation 생성</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">http</span> <span class="no">POST</span> <span class="nl">localhost:</span><span class="mi">8080</span><span class="o">/</span><span class="n">definition</span><span class="o">/</span><span class="n">instance</span><span class="o">/</span><span class="n">process</span><span class="o">.</span><span class="na">json</span>
</code></pre></div></div>

<p><strong>결과</strong></p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span>
    <span class="s">"_links"</span><span class="o">:</span> <span class="o">{</span>
        <span class="s">"definition"</span><span class="o">:</span> <span class="o">{</span>
            <span class="s">"href"</span><span class="o">:</span> <span class="s">"http://localhost:8080/definition/process.json"</span>
        <span class="o">},</span> 
        <span class="s">"role-mapping"</span><span class="o">:</span> <span class="o">{</span>
            <span class="s">"href"</span><span class="o">:</span> <span class="s">"http://localhost:8080/instance/3451/role-mapping/{roleName}"</span><span class="o">,</span> 
            <span class="s">"templated"</span><span class="o">:</span> <span class="kc">true</span>
        <span class="o">},</span> 
        <span class="s">"self"</span><span class="o">:</span> <span class="o">{</span>
            <span class="s">"href"</span><span class="o">:</span> <span class="s">"http://localhost:8080/instance/3451"</span>
        <span class="o">},</span> 
        <span class="s">"stop"</span><span class="o">:</span> <span class="o">{</span>
            <span class="s">"href"</span><span class="o">:</span> <span class="s">"http://localhost:8080/instance/3451/stop"</span>
        <span class="o">},</span> 
        <span class="s">"suspend"</span><span class="o">:</span> <span class="o">{</span>
            <span class="s">"href"</span><span class="o">:</span> <span class="s">"http://localhost:8080/instance/3451/stop"</span>
        <span class="o">},</span> 
        <span class="s">"variables"</span><span class="o">:</span> <span class="o">{</span>
            <span class="s">"href"</span><span class="o">:</span> <span class="s">"http://localhost:8080/instance/3451/variables"</span>
        <span class="o">}</span>
    <span class="o">},</span> 
    <span class="s">"name"</span><span class="o">:</span> <span class="s">"Volatile_0"</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>변수값 링크를 따라가본다:
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">http</span> <span class="nl">localhost:</span><span class="mi">8080</span><span class="o">/</span><span class="n">instance</span><span class="o">/</span><span class="mi">3451</span><span class="o">/</span><span class="n">variables</span>
</code></pre></div>    </div>
  </li>
  <li>결과
    <ul>
      <li>변수 값들이 리스팅 된다.</li>
    </ul>
  </li>
  <li>이렇듯 HATEOAS 에서는 stop, suspend 등 액션을 취할 수 있는 링크를 POST 로 전송하여 액션을 취할 수 있다.</li>
</ul>

<h2 id="hybind-example">Hybind example</h2>
<details>
<summary>Hybind example Code</summary>
<div>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s">"https://code.jquery.com/jquery-3.1.0.min.js"</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s">"https://unpkg.com/hybind@latest/index.js"</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s">"https://unpkg.com/vue"</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s">"https://unpkg.com/vue"</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s">"https://unpkg.com/vue-material@0.7.1"</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s">"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.3/require.js"</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="n">href</span><span class="o">=</span><span class="s">"https://unpkg.com/vue-material@0.7.1/dist/vue-material.css"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">link</span> <span class="n">href</span><span class="o">=</span><span class="s">"https://fonts.googleapis.com/icon?family=Material+Icons"</span> <span class="n">rel</span><span class="o">=</span><span class="s">"stylesheet"</span><span class="o">&gt;</span>




<span class="o">&lt;</span><span class="n">script</span><span class="o">&gt;</span>
      <span class="kt">var</span> <span class="n">backend</span> <span class="o">=</span> <span class="n">hybind</span><span class="o">(</span><span class="s">"http://localhost:8080"</span><span class="o">);</span>
      <span class="kt">var</span> <span class="n">definitions</span> <span class="o">=</span> <span class="o">[];</span>

      <span class="n">backend</span><span class="o">.</span><span class="n">$bind</span><span class="o">(</span><span class="s">"definition"</span><span class="o">,</span> <span class="n">definitions</span><span class="o">);</span>


      <span class="c1">//creating a new folder</span>
      <span class="n">definitions</span><span class="o">.</span><span class="n">$create</span><span class="o">({</span><span class="nl">name:</span><span class="s">"new folder"</span><span class="o">,</span> <span class="nl">directory:</span> <span class="kc">true</span><span class="o">}).</span><span class="na">then</span><span class="o">(</span><span class="n">function</span><span class="o">(</span><span class="n">folder</span><span class="o">){</span>
          <span class="n">folder</span><span class="o">.</span><span class="n">$load</span><span class="o">().</span><span class="na">then</span><span class="o">(</span><span class="n">function</span><span class="o">(</span><span class="n">thefolder</span><span class="o">){</span>

              <span class="n">console</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="s">"The folder has been created:"</span><span class="o">,</span> <span class="n">thefolder</span><span class="o">);</span>

             <span class="n">thefolder</span><span class="o">.</span><span class="n">$delete</span><span class="o">();</span>
          <span class="o">});</span>
      <span class="o">});</span>

<span class="c1">//      $.post({</span>
<span class="c1">//        url: "http://localhost:8080/definition/folder",</span>
<span class="c1">//        async: false</span>
<span class="c1">//      });</span>

<span class="c1">//      $.post({</span>
<span class="c1">//        url: "http://localhost:8080/definition/folder/folder2",</span>
<span class="c1">//        async: false</span>
<span class="c1">//      });</span>

      <span class="kt">var</span> <span class="n">process</span><span class="o">;</span>

      <span class="n">definitions</span><span class="o">.</span><span class="n">$load</span><span class="o">().</span><span class="na">then</span><span class="o">(</span><span class="n">function</span><span class="o">(</span><span class="n">definitions</span><span class="o">){</span>

          <span class="k">if</span><span class="o">(</span><span class="n">definitions</span><span class="o">){</span>

              <span class="n">definitions</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">function</span><span class="o">(</span><span class="n">definition</span><span class="o">){</span>
                <span class="n">console</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="n">definition</span><span class="o">.</span><span class="na">name</span><span class="o">);</span>

                <span class="k">if</span><span class="o">(</span><span class="n">definition</span><span class="o">.</span><span class="na">directory</span><span class="o">){</span>

                  <span class="c1">//drill down all the directories only for the first level.</span>
                  <span class="n">definition</span><span class="o">.</span><span class="n">$load</span><span class="o">().</span><span class="na">then</span><span class="o">(</span><span class="n">function</span><span class="o">(</span><span class="n">directory</span><span class="o">){</span>
                     <span class="n">console</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="n">directory</span><span class="o">);</span>
                  <span class="o">});</span>
                <span class="o">}</span>

                <span class="k">if</span><span class="o">(</span><span class="n">definition</span><span class="o">.</span><span class="na">name</span> <span class="o">==</span> <span class="s">"process.json"</span><span class="o">)</span> <span class="n">process</span> <span class="o">=</span> <span class="n">definition</span><span class="o">;</span>

              <span class="o">});</span>

              <span class="n">process</span><span class="o">.</span><span class="na">raw</span><span class="o">.</span><span class="n">$load</span><span class="o">().</span><span class="na">then</span><span class="o">(</span><span class="n">function</span><span class="o">(</span><span class="n">raw_definition</span><span class="o">){</span>
                 <span class="n">console</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="s">"definition"</span><span class="o">,</span> <span class="n">raw_definition</span><span class="o">);</span>
              <span class="o">});</span>

            <span class="c1">//invoke the instantiation:  this invoke the GET: definition (list definition) again.</span>
            <span class="c1">//  it may be a try for adding a list to the first bound variable (definitions).</span>
            <span class="c1">//  maybe there's any sort of option to disable this.</span>

              <span class="n">process</span><span class="o">.</span><span class="na">instantiation</span><span class="o">.</span><span class="n">$create</span><span class="o">().</span><span class="na">then</span><span class="o">(</span><span class="n">function</span><span class="o">(</span><span class="n">instance</span><span class="o">,</span> <span class="n">r1</span><span class="o">,</span> <span class="n">r2</span><span class="o">,</span> <span class="n">r3</span><span class="o">){</span>

                  <span class="n">console</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="s">"instance"</span><span class="o">,</span> <span class="n">instance</span><span class="o">);</span>

                <span class="c1">//we need to load again for adding the _links as properties. this looks dummy action.</span>
                  <span class="n">instance</span><span class="o">.</span><span class="n">$load</span><span class="o">().</span><span class="na">then</span><span class="o">(</span><span class="n">function</span><span class="o">(</span><span class="n">instance_detail</span><span class="o">){</span>

                    <span class="n">instance_detail</span><span class="o">.</span><span class="na">variables</span><span class="o">.</span><span class="n">$load</span><span class="o">().</span><span class="na">then</span><span class="o">(</span><span class="n">function</span><span class="o">(</span><span class="n">variables</span><span class="o">){</span>
                      <span class="n">console</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="s">"variables"</span><span class="o">,</span> <span class="n">variables</span><span class="o">);</span>
                    <span class="o">});</span>

                  <span class="o">});</span>

              <span class="o">});</span>

          <span class="o">}</span>

      <span class="o">});</span>


<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</code></pre></div>    </div>
  </div>
</details>

<h2 id="프로세스-버전관리">프로세스 버전관리</h2>
<p><strong>/version</strong></p>
<ul>
  <li>버전 리스팅
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">http</span> <span class="nl">localhost:</span><span class="mi">8080</span><span class="o">/</span><span class="n">version</span>
</code></pre></div>    </div>
  </li>
</ul>

<p><strong>결과</strong></p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span>
    <span class="s">"_embedded"</span><span class="o">:</span> <span class="o">{</span>
        <span class="s">"versions"</span><span class="o">:</span> <span class="o">[</span>
            <span class="o">{</span>
                <span class="s">"_links"</span><span class="o">:</span> <span class="o">{</span>
                    <span class="s">"definitions"</span><span class="o">:</span> <span class="o">{</span>
                        <span class="s">"href"</span><span class="o">:</span> <span class="s">"http://localhost:8080/version/1.0/definition/"</span>
                    <span class="o">},</span> 
                    <span class="s">"makeProduction"</span><span class="o">:</span> <span class="o">{</span>
                        <span class="s">"href"</span><span class="o">:</span> <span class="s">"http://localhost:8080/version/1.0/production"</span>
                    <span class="o">},</span> 
                    <span class="s">"self"</span><span class="o">:</span> <span class="o">{</span>
                        <span class="s">"href"</span><span class="o">:</span> <span class="s">"http://localhost:8080/version/1.0"</span>
                    <span class="o">}</span>
                <span class="o">},</span> 
                <span class="s">"version"</span><span class="o">:</span> <span class="o">{</span>
                    <span class="s">"date"</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span> 
                    <span class="s">"description"</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span> 
                    <span class="s">"major"</span><span class="o">:</span> <span class="mi">1</span><span class="o">,</span> 
                    <span class="s">"minor"</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span> 
                    <span class="s">"production"</span><span class="o">:</span> <span class="kc">false</span>
                <span class="o">}</span>
            <span class="o">},</span> 

</code></pre></div></div>

<ul>
  <li>버전업 (편집중이 버전의 snapshot 을 뜨는 일종의 tagging)
```java
    <h1 id="마이너-버전업-v10---v11">마이너 버전업 v1.0 -&gt; v1.1</h1>
    <p>http POST localhost:8080/version</p>
  </li>
</ul>

<h1 id="메이저-버전업-v10---v20">메이저 버전업 v1.0 -&gt; v2.0</h1>
<p>http POST localhost:8080/version?major=true</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>

- 프로덕션 설정
```java
http POST localhost:8080/version/1.0/production
</code></pre></div></div>

<ul>
  <li>혹은 hateoas (hybind) 에 의해
```java
//hybind
version.makeProduction.$create()</li>
</ul>

<p>//jquery
$.post(version._links.makeProduction.href)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>

- 프로덕션 버전 정보 얻기
```java
http localhost:8080/version/production
</code></pre></div></div>

<ul>
  <li>프로덕션 버전의 프로세스 정의 얻기 (현재 xml 만 지원함)
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">http</span> <span class="nl">localhost:</span><span class="mi">8080</span><span class="o">/</span><span class="n">definition</span><span class="o">/</span><span class="n">xml</span><span class="o">/</span><span class="n">process</span><span class="o">.</span><span class="na">json</span><span class="o">?</span><span class="n">production</span><span class="o">=</span><span class="kc">true</span>
</code></pre></div>    </div>
  </li>
</ul>



      
      <div class="footer border-top border-gray-light mt-5 pt-3 text-right text-gray">
        This site is open source. <a href="https://github.com/msa-ez/uengine5.github.io/edit/gh-pages/content/api-customizing/api-reference-old.md">Improve this page</a>.
      </div>
      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
