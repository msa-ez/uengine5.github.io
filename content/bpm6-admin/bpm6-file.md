---
description: ''
sidebar: 'getting-started'
---

# 데이터 관리 - 파일
---
uEngine6 BPM에서는 파일을 통해 프로세스 정의, 정의 버전, 인스턴스 목록, payloads, logs를 관리합니다. 데이터베이스에서도 기본적인 정보를 관리하지만, 파일에는 보다 상세한 정보를 저장합니다. 프로세스 정의관련 해서는 데이터베이스보다 파일에서 더 중요하게 다루어집니다.


## 기본 구조
프로세스 정의, 인스턴스, 로그, payloads 폴더는 파일로 관리하며, 인스턴스의 상세정보및 각 업무의 상태 등을 파일로 관리합니다.

```text
[폴더 구조]
/bpm
  /definitions (프로세스 정의 목록)
  /archive     (프로세스 정의 버전)
  /instances   (인스턴스 목록)
  /logs        (logs 관리)
  /payloads    (payload 관리)
```

### 프로세스 정의
  + 사용자가 정의한 프로세스가 bpmn 형식의 파일로 저장이 됩니다. 해당 폴더는 시뮬레이션시 실행되는 폴더로 현재 프로세스가 배포되기 전 테스트를 할때 사용되며, 버전 관리 이전에 중간 저장되는 폴더 입니다.
```text
예시) 프로세스 정의 폴더 구조
/definitions
	/service-process.bpmn (파일)
```

### 프로세스 정의 버전
  + 사용자가 정의한 프로세스가 실제 배포되어, 실행되는 폴더 입니다. 사용자가 프로세스 실행시 항상 최신 버전의 파일이 실행됩니다. 버전관리는 "archive" 폴더 하위에 "{프로세스명}.bpmn" 폴더가 생성되며, 해당 폴더 하위에 버전별로 파일이 저장됩니다.
```text
예시) 프로세스 정의시 버전 저장 형태
/archive (폴더)
	/service-process.bpmn (폴더)
		/0.1.bpmn (파일)
```

### 인스턴스 목록
  + 프로세스 실행시 생성되는 단위인 인스턴스는 데이터베이스에는 기본적인 데이터만 저장이 되며, 이 외의 데이터인 인스턴스의 상태, 저장된 데이터값, 각 업무의 상태 등을 해당 파일에 저장되 됩니다. "instances" 폴더 하위에 고유 번호인 인스턴스 번호로 파일이 생성되며, 파일은 xml 형식으로 저장됩니다.
```text
예시) 인스턴스 목록 폴더 구조
/instances
	/1
	/... (파일)
```

### logs 관리
  + 프로세스 실행시 DEBUG 레벨에 설정에 따라서 정보, 오류, 경고와 같은 로그 정보가 loggback을 통해서 로그가 저장이 됩니다. 프로레스 처리과정에서 오류 발생시 파일로 저장이 되며, 매일 파일이 생성되어 관리됩니다. "logs" 폴더 하위에 파일이 생성되며, 파일은 현재 날짜로 일자별 파일명으로 생성되어 관리됩니다.
```text
예시) 로그 폴더 구조
/logs
	/bpm_YYYYMMDD.log(파일)
```

### payload 관리
  + 프로세스 처리과정에서 사용자가 전달 했던 값을 인스턴스단위로 값을 저장하는 폴더 입니다. 사용자가 전달한 값을 저장 하여 추후 오류, 원인 파악, 값 확인 할때 사용됩니다. "payloads" 폴더 하위에 인스턴스 번호로 파일이 생성되며, 파일은 xml 형식으로 저장됩니다.
```text
예시) payload 폴더 구조
/payloads
	/{instance_id}(파일)



