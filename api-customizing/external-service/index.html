<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>외부서비스와 BPM연동 - uengine5.github</title><meta name="gridsome:hash" content="f04fb06e1777a6ae38df3c3cec2bd673ad481ff4"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="og:url" name="og:url" content="undefined/bpm-concept/workflow-management-system/"><meta data-vue-tag="ssr" name="description" content="undefined"><meta data-vue-tag="ssr" data-key="og:title" name="og:title" content="외부서비스와 BPM연동"><meta data-vue-tag="ssr" data-key="twitter:title" name="twitter:title" content="외부서비스와 BPM연동"><meta data-vue-tag="ssr" data-key="og:description" name="og:description" content="undefined"><meta data-vue-tag="ssr" data-key="twitter:description" name="twitter:description" content="undefined"><meta data-vue-tag="ssr" data-key="og:type" name="og:type" content="website"><meta data-vue-tag="ssr" data-key="twitter:card" name="twitter:card" content="summary_large_image"><meta data-vue-tag="ssr" data-key="og:image" name="og:image" content="undefined/logo.jpg"><meta data-vue-tag="ssr" data-key="twitter:image" name="twitter:image" content="undefined/logo.jpg"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.f0886199c685a75a52fccefb5e72c094.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.f0886199c685a75a52fccefb5e72c094.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.f0886199c685a75a52fccefb5e72c094.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.f0886199c685a75a52fccefb5e72c094.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.f0886199c685a75a52fccefb5e72c094.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.f0886199c685a75a52fccefb5e72c094.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.f0886199c685a75a52fccefb5e72c094.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.f0886199c685a75a52fccefb5e72c094.png"><link rel="preload" href="/assets/css/0.styles.d5c489e7.css" as="style"><link rel="preload" href="/assets/js/app.f6717175.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--markdown-page-vue.c8b6f5d4.js" as="script"><link rel="prefetch" href="/assets/js/page--src--pages--404-vue.c01d368d.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.f645ccd8.js"><link rel="prefetch" href="/assets/js/search.4c1bd902.js"><link rel="stylesheet" href="/assets/css/0.styles.d5c489e7.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="font-sans antialiased text-ui-typo bg-ui-background"><div class="flex flex-col justify-start min-h-screen"><header class="sticky top-0 z-10 w-full border-b bg-ui-background border-ui-border"><div class="py-2 border-t-2 border-ui-primary"><div class="container"><div class="flex items-center justify-between -mx-2 sm:-mx-4"><div class="flex flex-col items-center px-2 mr-auto sm:px-4 sm:flex-row"><a href="/" title="Home" class="flex items-center active"><img src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 2560 430' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-ed7713177f609b564b680d0e225ae38f'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-ed7713177f609b564b680d0e225ae38f)' width='2560' height='430' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAALCAYAAADP9otxAAAACXBIWXMAAAsSAAALEgHS3X78AAAGjUlEQVRIx5VWB1CURxS%2bA9GLLcZE1BTRSaITJSE6eJZoFKMUr0gv//EfVURPiojCgWhMFBFCbNgNioB6ShQjIiO9w2kQHbGCwghRSTNjJsbCbb792XMuBM24M9%2b8t2/fvn373tsiIhKRSB6ZLRah2UUdGaNcoYv0WHs6xGdjcQz/bUWc/9ba5QFpdcPpeGBanZmINbVKJeI5TmTSF4te0Hjo9mxqE5m6x7ip3d5sGfUpVXOcGPqCXwFq9WAPF5dps2fMkDrZ20v9eV7qolRKZ6Hv6eYm9fbwkC6Qy6V%2bvr7SBTLZNPTHC4ayJ3rYHrFx1bmoNw120ebcVKVUEgTgKAKwy39bbTMCUL98x2VBNyj9hpj3cBabOD8MMBd4jhsAjATeBazg2DsYM6PBESjHmRs3x1MZ%2bnQuGzeHbATfrS8ElO8eFz8PePeYubDpXoKq8vZ2Xbp4MYmPjX2yLDzcwHl5GRaHhBjitVpDkL%2b/IdDPz7Bk0SID7D4L12gI%2bk3CxFPWc88c/2R%2bK%2bUnpdaM8lmfb1CnFiVG7i0cvXB7lVdoehMJTKvPEAIQnSxmWeoDZ%2bKAasCCbeoH8A%2bAYjhZBp3D4Pv1kkWz/8g4zgK6GcBbvVQLDYa4Z5VAPhB4Gxh9VKezmDt7tntJURGpKC9/qq%2bvJxs3bCBlpaWksqKCFBcWksyMDNLe3k6iIiK6/nz4kGxYt%2b6aqGzcp0511tNIwbipUx7pj/QlIySWE7Rtc5Tr6ytdki/lem26eBKlXxiy6/wTzd6GaLq4f/jqvljUDk6kgyYxh5aALwBKezhPnfwQcAICodePyUchSItB3UEngE4E5rOsvw9MgjwMfSsTW/bAcuAD1j8OdADXUe57v5g1y41uuKiw8Ok5vd6wKTXVUF5WZvg%2bJ8egRz87M9PQ1tpqyDx48Fnn/ftkY2LiFVGdtU1bzXibk9Rgp0L1dbPap%2b3Ovbl%2bf111iOi86Lii48f5znTMfk1ejdOaU0KVuModzHhfnpZ6CRwcCmoJ3EBmXeBMLQ0Kc7S/sFGVqhlYhvEToN9AlwalhulcA0IBGXAVY/2gdxr8HmAtoGcBDge/H/AVKqw7SKWAlzFAdjNnutVUV5PDhw49Ljx7tuuYTtdVXVXVlZ%2bX1xWm0XTt3rmzq/HCha4rTU1PLzQ0kK2bNzeJLkyaSOrGW1leCY4d2a4IeZi5myNZdYo/HjTKz7XqFXceNM4pVifv1NrE5BPriCyFSQnGY/GvWMYSQHPYhq/w3X2NcCcgW6A1LGM007k000A5Ow6rwCez8VK%2bOzingI%2bZ7CzwGWw0gNI159GgAFo1DSiOGmgZLkB3mYODMvvgQVJSXEwK8vOJduVKkoV%2bSFAQweVHUpKSyL49e8ihrCxyID2dfJmQcEt022H6ZrpQs1P0sZqopSSh0pnoKpXf/X3Z2Y7KBwZUDp2izSW2MSf3m5zhIVg0X3BMpXIQAqBSxYIOpxXQ4wiMA0pY0GzhMN3ca%2by4rIGMVsVkYBDfXVEDWWnbsvlHAUegEVBgfB7WsoOdYcIFzHFDIJMBt9FfxHl6tuMybMYN3%2bLj6dmCi7AFt34LjkgL5ILMy929GfKf0C8QPdlmc%2b1acLD6nHM8STriSVJKFPd%2bvai42tEg%2b7mzwZGzCis%2bbhtz4rfp2mP9n2%2bK49bCiUqWyTeBelbOtCxvYpwHlOCn00wC51ngpOAr6D1AsweaR4Nn8prUQzYItBCQsrVohq1BD4DGwoYl6FTh2CEQbC5NRCfmjiGEiBYGBvaPi42VaGNiJHgNJMEBARJsWKIJDZVER0VJEuLiJMsiIiR4CfqIHmyZnHeLiyf7Vmkex5TKnuaXOQc%2balzwEblrO271luXrPFIOk88TchyEeyB6Rx%2b2kUQstpDxNOtZgBXrrxfOKsdlgE%2bilxj64awC3gO/hB2bMIAHtgPpbCORLDgh9O5gMqpP1xgAuhk2dezOoE9sEb2H6LEDNFQfGxe9Uqseu2ukjk%2b4%2b3WxN8mtdya/X5Ib7jbKSft5meGXy27kernjNqqXnL5KeLpUvn4vtKXu8VS95OPzOjZDg6jAhtIwb8//zXmJ3bGw8QZbX/gosSfyhTAdF9rqo16jY88o5Q1VSqfOBpmiTS%2bT366VyTv0TvMIcRI%2bOe11jv96l9XGD0u3MTOTDwvlzdinxfipMTN5zymlb74r%2bGR6bmHDwjiXjYtNfnti48fIuA79%2bRltmfhk9iqBM7Z/AEkDmHVfzRR8AAAAAElFTkSuQmCC' /%3e%3c/svg%3e" width="2560" data-src="/assets/static/logo.42db587.b1dd88d7934dff6ac1d84c553ff0a2b5.png" data-srcset="/assets/static/logo.82a2fbd.b1dd88d7934dff6ac1d84c553ff0a2b5.png 480w, /assets/static/logo.cbab2cf.b1dd88d7934dff6ac1d84c553ff0a2b5.png 1024w, /assets/static/logo.2665e34.b1dd88d7934dff6ac1d84c553ff0a2b5.png 1920w, /assets/static/logo.42db587.b1dd88d7934dff6ac1d84c553ff0a2b5.png 2560w" data-sizes="(max-width: 2560px) 100vw, 2560px" class="g-image g-image--lazy g-image--loading" style="width:200px;"><noscript><img src="/assets/static/logo.42db587.b1dd88d7934dff6ac1d84c553ff0a2b5.png" class="g-image g-image--loaded" width="2560"></noscript></a></div><div class="w-full px-2 sm:px-4 max-w-screen-xs"><!----></div><div class="flex items-center justify-end px-2 sm:px-4"><!----><!----><!----><button aria-label="Toggle Darkmode" title="Toggle Darkmode" class="ml-2 sm:ml-8"><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></button></div></div></div></div></header><main class="container relative flex flex-wrap justify-start flex-1 w-full bg-ui-background"><!----><div class="w-full pb-24"><div class="flex flex-wrap items-start justify-start"><div class="order-2 w-full md:w-1/3 sm:pl-4 md:pl-6 lg:pl-8 sticky" style="top:4rem;"><div class="mt-8 sm:pl-4 md:pl-6 md:pt-12 lg:pl-8 sm:pb-16 sm:border-l border-ui-border md:mt-0"><h3 class="pt-0 mt-0 text-sm tracking-wide uppercase border-none">On this page</h3><div><ul><li class="font-semibold depth-2"><a href="/api-customizing/external-service/#1-구성" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          1. 구성
        </a></li><li class="border-t border-dashed border-ui-border pt-2 mt-2 font-semibold depth-2"><a href="/api-customizing/external-service/#2-외부서비스app" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          2. 외부서비스(APP)
        </a></li><li class="depth-3"><a href="/api-customizing/external-service/#21-message-broker-publishersubscriber" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          2.1 Message broker (Publisher/Subscriber)
        </a></li><li class="depth-4"><a href="/api-customizing/external-service/#211-publisher" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-3"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          2.1.1 Publisher
        </a></li><li class="depth-4"><a href="/api-customizing/external-service/#212-subscriber" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-3"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          2.1.2 Subscriber
        </a></li><li class="depth-3"><a href="/api-customizing/external-service/#22-화면-정의" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          2.2 화면 정의
        </a></li><li class="border-t border-dashed border-ui-border pt-2 mt-2 font-semibold depth-2"><a href="/api-customizing/external-service/#3-프로세스-모델링" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          3. 프로세스 모델링
        </a></li><li class="depth-3"><a href="/api-customizing/external-service/#31-외부-어플리케이션-설정" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          3.1 외부 어플리케이션 설정
        </a></li><li class="depth-4"><a href="/api-customizing/external-service/#311-외부-어플리케이션-설정" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-3"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          3.1.1 &quot;외부 어플리케이션&quot; 설정
        </a></li><li class="depth-3"><a href="/api-customizing/external-service/#312-task의-role-설정" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          3.1.2 TASK의 Role 설정
        </a></li><li class="depth-3"><a href="/api-customizing/external-service/#32-실행방법" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-2"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          3.2 실행방법
        </a></li><li class="depth-4"><a href="/api-customizing/external-service/#321-프로세스-정의체계도-정의" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-3"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          3.2.1 프로세스 정의체계도 정의
        </a></li><li class="depth-4"><a href="/api-customizing/external-service/#322-실행" class="relative flex items-center py-1 text-sm transition transform hover:translate-x-1 pl-3"><span class="absolute w-2 h-2 -ml-3 rounded-full opacity-0 bg-ui-primary transition transform scale-0 origin-center"></span>
          3.2.2 실행
        </a></li></ul></div></div></div><div class="order-1 w-full md:w-2/3"><div class="content"><h1 id="외부서비스와-bpm연동"><a href="#%EC%99%B8%EB%B6%80%EC%84%9C%EB%B9%84%EC%8A%A4%EC%99%80-bpm%EC%97%B0%EB%8F%99" aria-hidden="true"><span class="icon icon-link"></span></a>외부서비스와 BPM연동</h1>
<h2 id="1-구성"><a href="#1-%EA%B5%AC%EC%84%B1" aria-hidden="true"><span class="icon icon-link"></span></a>1. 구성</h2>
<p>APP에서 BPM으로 전달 하기 위해서는 APP에서 이벤트 처리를 할때 Message Broker를 통해서 메시지를 전달 해야 한다.
Message broker를 통해서 이벤트를 publish 하면, 메시지 수신부이 BPM 에서 진행한다.
APP은 단순히 업무화면 구성, 도메인 로직처리, 데이터 관리 같은 역할만 진행하며 이벤트 송신만 처리 한다.</p>
<p><img src="https://github.com/sooheon45/Image/assets/54785805/f53d548a-1c26-483e-90a2-e27e72cde6fa" alt="Condition">
이미지 1) 구성도</p>
<h2 id="2-외부서비스app"><a href="#2-%EC%99%B8%EB%B6%80%EC%84%9C%EB%B9%84%EC%8A%A4app" aria-hidden="true"><span class="icon icon-link"></span></a>2. 외부서비스(APP)</h2>
<p>외부서비스(APP)에서는 BPM과 연동을하면서, 서로 독립적인 서비스로 유지 하지 위해서 아래와 같이 구성 되어 있습니다. 외부서비스(APP)와 BPM 통신 방식은 Message Broker통해서 통신을 하게 됩니다.</p>
<h3 id="21-message-broker-publishersubscriber"><a href="#21-message-broker-publishersubscriber" aria-hidden="true"><span class="icon icon-link"></span></a>2.1 Message broker (Publisher/Subscriber)</h3>
<p>Message Broker는 시스템간 비동기 통신을 가능하게 하여, 시스템의 독립성을 높이고, 결합도는 낮게 하여 시스템의 효율성을 향상시팁니다. 이러한 특성으로 인해 대규모 시스템, 분산 시스템, 마이크로서비스 아키텍처에 널리 사용됩니다.</p>
<ul>
<li>비의존성
APP에서 이벤트 메시지를 전송할 뿐, BPM 호출을 기다리지 않습니다.</li>
<li>장애차단
BPM에서 오류및 중지가 되었더라도, APP에서의 영향이 없습니다. </li>
<li>보장성
중지된 BPM이 재실행 되더라도, 이전의 데이터가 반드시 처리가 되도록 보장합니다.</li>
</ul>
<h4 id="211-publisher"><a href="#211-publisher" aria-hidden="true"><span class="icon icon-link"></span></a>2.1.1 Publisher</h4>
<p>이벤트 메시지를 송신하는 역할로서 Message Broker의 형식에 따라서 전송 하는 부분 입니다. Message Broker의 메시지를 큐 방식으로 처리가 되는데, topic명을 지정하여 전송 하면 됩니다.    </p>
<pre class="language-java"><code class="language-java"><span class="token comment">// 예시 1) Kafka를 통한 메시지 송신</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AbstractEvent</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">publish</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">KafkaProcessor</span> processor <span class="token operator">=</span> <span class="token class-name">ItsmApplication</span><span class="token punctuation">.</span>applicationContext<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">KafkaProcessor</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">MessageChannel</span> outputChannel <span class="token operator">=</span> processor<span class="token punctuation">.</span><span class="token function">outboundTopic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        outputChannel<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>
            <span class="token class-name">MessageBuilder</span>
                <span class="token punctuation">.</span><span class="token function">withPayload</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span>
                    <span class="token class-name">MessageHeaders</span><span class="token punctuation">.</span><span class="token constant">CONTENT_TYPE</span><span class="token punctuation">,</span>
                    <span class="token class-name">MimeTypeUtils</span><span class="token punctuation">.</span><span class="token constant">APPLICATION_JSON</span>
                <span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"type"</span><span class="token punctuation">,</span> <span class="token function">getEventType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">publishAfterCommit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">TransactionSynchronizationManager</span><span class="token punctuation">.</span><span class="token function">registerSynchronization</span><span class="token punctuation">(</span>
            <span class="token keyword">new</span> <span class="token class-name">TransactionSynchronizationAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterCompletion</span><span class="token punctuation">(</span><span class="token keyword">int</span> status<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token class-name">AbstractEvent</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>해당 "예제1)" 코드는 AbstractEvent.java 파일로, 해당 클래스를 상속한 후 publishAfterCommit()을 실행 시키면 Message broker에 메시지를 전달하도록 하는 예제 입니다.</p>
<h4 id="212-subscriber"><a href="#212-subscriber" aria-hidden="true"><span class="icon icon-link"></span></a>2.1.2 Subscriber</h4>
<p>메시지를 수신하는 역할로서 Message Broker의 특정 topic에 따라서 수신 하는 부분 입니다. 관심 있는 topic의 메시지가 발행될 때마다 수신되며, condition에 따라서 메시지를 분류 할 수 있습니다.</p>
<pre class="language-java"><code class="language-java"><span class="token comment">// 예제 2) 메시지 수신부</span>
<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EventListener</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@StreamListener</span><span class="token punctuation">(</span>
        value <span class="token operator">=</span> <span class="token class-name">Streams</span><span class="token punctuation">.</span><span class="token constant">INPUT</span><span class="token punctuation">,</span> 
        condition <span class="token operator">=</span> <span class="token string">"headers['type'] == 'TroubleIssued'"</span>
    <span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ProcessTransactional</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">troubleIssuedEvent</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Payload</span> <span class="token class-name">String</span> eventBody<span class="token punctuation">,</span> <span class="token annotation punctuation">@Header</span><span class="token punctuation">(</span><span class="token string">"type"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> typeHeader<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\n##### listener troubleIssuedEvent : "</span> <span class="token operator">+</span> eventBody <span class="token operator">+</span> <span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// 업무 실행 로직 구현.</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Exception 처리</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<ul>
<li>
<p>@StreamListener</p>
<ul>
<li>
<p>Spring Cloud Stream에서 사용되며, 메시지 브로커로부터 메시지를 수신할 리스너 메소드를 정의 할때 사용됩니다.</p>
<ul>
<li>value: 메시지를 수신할 topic을 지정</li>
<li>condition: 메시지를 처리하기 전에 조건을 지정합니다.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="22-화면-정의"><a href="#22-%ED%99%94%EB%A9%B4-%EC%A0%95%EC%9D%98" aria-hidden="true"><span class="icon icon-link"></span></a>2.2 화면 정의</h3>
<p>외부서비스(APP)에서 제공하는 화면에 대한 정의하여, 라우터를 통한 접근이 가능하도록 URL 정보입니다.</p>
<h2 id="3-프로세스-모델링"><a href="#3-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%EB%AA%A8%EB%8D%B8%EB%A7%81" aria-hidden="true"><span class="icon icon-link"></span></a>3. 프로세스 모델링</h2>
<p>"프로세스 정의"탭 에서 프로세스에 대한 정의를 진행 합니다. 프로세스를 정의하기 위해서 전체적인 TASK를 그리고, 각 TASK 마다 역할을 설정하여, 업무에 대한 내용을 정의 합니다.</p>
<h3 id="31-외부-어플리케이션-설정"><a href="#31-%EC%99%B8%EB%B6%80-%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EC%84%A4%EC%A0%95" aria-hidden="true"><span class="icon icon-link"></span></a>3.1 외부 어플리케이션 설정</h3>
<p><img src="https://github.com/sooheon45/Image/assets/54785805/7e09993e-e3a4-4c96-befc-d428a66fa42f" alt="setting userTask">
이미지 2) User Task 설정</p>
<ol>
<li>상단에 tools 중 "Create task"를 클릭하여 task를 생성합니다. </li>
<li>생성된 task 클릭하여 "Change element" 클릭하여 "User Task"으로 변경 합니다.</li>
</ol>
<p><img src="https://github.com/sooheon45/Image/assets/54785805/2e789577-171f-4fa2-8093-c4ab8b6ad359" alt="setting userTaskPanel">
이미지 3) UserTask 판넬 설정</p>
<ol start="3">
<li>해당 UserTask를 더블클릭하여 우측 판넬에 "외부 어플리케이션" 설정 합니다.</li>
<li>"외부 어플리케이션" 설정 후 항목 정의 합니다.</li>
</ol>
<h4 id="311-외부-어플리케이션-설정"><a href="#311-%EC%99%B8%EB%B6%80-%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EC%84%A4%EC%A0%95" aria-hidden="true"><span class="icon icon-link"></span></a>3.1.1 "외부 어플리케이션" 설정</h4>
<ul>
<li>
<p>URL</p>
<ul>
<li>화면에 대한 정의 하는 부분으로서, 외부 어플리케이션의 정의된 화면에 접근 URL정보 입니다.</li>
</ul>
</li>
<li>
<p>Event Type</p>
<ul>
<li>이벤트 타입을 정의 하는 부분으로서, 이벤트 발생시 어떤한 이벤트를 수신 할 지에 대한 타입의 정의하는 부분 입니다.</li>
</ul>
</li>
<li>
<p>Event Attributes</p>
<ul>
<li>메시지의 속성값 정의 하는 부분으로서, 수신된 메시지를 속성값에 맞게 처리 하기 위해서 정의하는 부분입니다.</li>
</ul>
</li>
<li>
<p>Event Mapping</p>
<ul>
<li>수신된 메시지에서 "Event Attributes"에 정의된 부분과 다른 정보를 매핑하는 역할으로서, 수신된 메시지에서 정의된 속성값을 추출하여 저장및 처리를 하기 위한 매핑 부분 입니다.</li>
</ul>
</li>
</ul>
<h3 id="312-task의-role-설정"><a href="#312-task%EC%9D%98-role-%EC%84%A4%EC%A0%95" aria-hidden="true"><span class="icon icon-link"></span></a>3.1.2 TASK의 Role 설정</h3>
<p>업무(TASK)에 따라서 Role을 설정할 수 있습니다. Role의 설정은 Lane 단위로 가능 하며, 총 3가지의 옵션에 따라서 Role타입이 정의 됩니다.</p>
<ul>
<li>
<p>None</p>
<ul>
<li>Role을 설정 하지 않음 (미설정)</li>
</ul>
</li>
<li>
<p>Role Resolution By IAM Scope</p>
<ul>
<li>IAM에 정의 된 Scope에 따라서 Scope명 지정 ( Ex) Manager, Staff 등)</li>
</ul>
</li>
<li>
<p>Role Resolution By Direct user</p>
<ul>
<li>직접적인 유저 지정(Ex) xxx@email.com, xxx 등)</li>
</ul>
</li>
</ul>
<p><img src="https://github.com/sooheon45/Image/assets/54785805/4aeef47f-4a3d-4409-a215-d4a8d2387efa" alt="scope 설정">
이미지 4) "manager" Lane 에서 manager scope 설정</p>
<h3 id="32-실행방법"><a href="#32-%EC%8B%A4%ED%96%89%EB%B0%A9%EB%B2%95" aria-hidden="true"><span class="icon icon-link"></span></a>3.2 실행방법</h3>
<h4 id="321-프로세스-정의체계도-정의"><a href="#321-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%EC%A0%95%EC%9D%98%EC%B2%B4%EA%B3%84%EB%8F%84-%EC%A0%95%EC%9D%98" aria-hidden="true"><span class="icon icon-link"></span></a>3.2.1 프로세스 정의체계도 정의</h4>
<ol>
<li>"프로세스 정의체계도"탭으로 이동 합니다.</li>
<li>Mega프로세스, Major프로세스, Sub프로세스 을 분류를 합니다.</li>
<li>Sub프로세스 에서 사용할 프로세스를 저장 합니다.
<img src="https://github.com/sooheon45/Image/assets/54785805/282e52f0-6df7-4f01-a0c1-c22142efd6ec" alt="Sub프로세스">
이미지 5) Sub프로세스 에서 정의된 프로세스 저장</li>
</ol>
<h4 id="322-실행"><a href="#322-%EC%8B%A4%ED%96%89" aria-hidden="true"><span class="icon icon-link"></span></a>3.2.2 실행</h4>
<p><img src="https://github.com/sooheon45/Image/assets/54785805/c914af68-e521-409b-a323-b700dc4a16f8" alt="실행"></p>
<ol>
<li>Sub프로세스에 정의된 프로세스를 클릭하면, 해당 정의된 프로세스를 불러오게 됩니다.</li>
<li>우측 상단에 플레이 버튼을 클릭하여 프로세스 실행합니다.</li>
</ol>
</div><div class="mt-8 pt-8 lg:mt-12 lg:pt-12 border-t border-ui-border"><div><div class="flex flex-col sm:flex-row justify-between items-center"><!----><!----></div></div></div></div></div></div></main></div><!----></div>
    <script>window.__INITIAL_STATE__={"data":{"markdownPage":{"id":"3ef7a719ccd5a3d7da1be1c6c03d2df5","title":"외부서비스와 BPM연동","description":"","path":"\u002Fapi-customizing\u002Fexternal-service\u002F","timeToRead":3,"content":"\u003Ch1 id=\"외부서비스와-bpm연동\"\u003E\u003Ca href=\"#%EC%99%B8%EB%B6%80%EC%84%9C%EB%B9%84%EC%8A%A4%EC%99%80-bpm%EC%97%B0%EB%8F%99\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E외부서비스와 BPM연동\u003C\u002Fh1\u003E\n\u003Ch2 id=\"1-구성\"\u003E\u003Ca href=\"#1-%EA%B5%AC%EC%84%B1\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E1. 구성\u003C\u002Fh2\u003E\n\u003Cp\u003EAPP에서 BPM으로 전달 하기 위해서는 APP에서 이벤트 처리를 할때 Message Broker를 통해서 메시지를 전달 해야 한다.\nMessage broker를 통해서 이벤트를 publish 하면, 메시지 수신부이 BPM 에서 진행한다.\nAPP은 단순히 업무화면 구성, 도메인 로직처리, 데이터 관리 같은 역할만 진행하며 이벤트 송신만 처리 한다.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fgithub.com\u002Fsooheon45\u002FImage\u002Fassets\u002F54785805\u002Ff53d548a-1c26-483e-90a2-e27e72cde6fa\" alt=\"Condition\"\u003E\n이미지 1) 구성도\u003C\u002Fp\u003E\n\u003Ch2 id=\"2-외부서비스app\"\u003E\u003Ca href=\"#2-%EC%99%B8%EB%B6%80%EC%84%9C%EB%B9%84%EC%8A%A4app\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E2. 외부서비스(APP)\u003C\u002Fh2\u003E\n\u003Cp\u003E외부서비스(APP)에서는 BPM과 연동을하면서, 서로 독립적인 서비스로 유지 하지 위해서 아래와 같이 구성 되어 있습니다. 외부서비스(APP)와 BPM 통신 방식은 Message Broker통해서 통신을 하게 됩니다.\u003C\u002Fp\u003E\n\u003Ch3 id=\"21-message-broker-publishersubscriber\"\u003E\u003Ca href=\"#21-message-broker-publishersubscriber\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E2.1 Message broker (Publisher\u002FSubscriber)\u003C\u002Fh3\u003E\n\u003Cp\u003EMessage Broker는 시스템간 비동기 통신을 가능하게 하여, 시스템의 독립성을 높이고, 결합도는 낮게 하여 시스템의 효율성을 향상시팁니다. 이러한 특성으로 인해 대규모 시스템, 분산 시스템, 마이크로서비스 아키텍처에 널리 사용됩니다.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E비의존성\nAPP에서 이벤트 메시지를 전송할 뿐, BPM 호출을 기다리지 않습니다.\u003C\u002Fli\u003E\n\u003Cli\u003E장애차단\nBPM에서 오류및 중지가 되었더라도, APP에서의 영향이 없습니다. \u003C\u002Fli\u003E\n\u003Cli\u003E보장성\n중지된 BPM이 재실행 되더라도, 이전의 데이터가 반드시 처리가 되도록 보장합니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch4 id=\"211-publisher\"\u003E\u003Ca href=\"#211-publisher\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E2.1.1 Publisher\u003C\u002Fh4\u003E\n\u003Cp\u003E이벤트 메시지를 송신하는 역할로서 Message Broker의 형식에 따라서 전송 하는 부분 입니다. Message Broker의 메시지를 큐 방식으로 처리가 되는데, topic명을 지정하여 전송 하면 됩니다.    \u003C\u002Fp\u003E\n\u003Cpre class=\"language-java\"\u003E\u003Ccode class=\"language-java\"\u003E\u003Cspan class=\"token comment\"\u003E\u002F\u002F 예시 1) Kafka를 통한 메시지 송신\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"token class-name\"\u003EAbstractEvent\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"token keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Epublish\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token class-name\"\u003EKafkaProcessor\u003C\u002Fspan\u003E processor \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token class-name\"\u003EItsmApplication\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003EapplicationContext\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EgetBean\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token class-name\"\u003EKafkaProcessor\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token keyword\"\u003Eclass\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token class-name\"\u003EMessageChannel\u003C\u002Fspan\u003E outputChannel \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E processor\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EoutboundTopic\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\n        outputChannel\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Esend\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\n            \u003Cspan class=\"token class-name\"\u003EMessageBuilder\u003C\u002Fspan\u003E\n                \u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EwithPayload\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token keyword\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n                \u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EsetHeader\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\n                    \u003Cspan class=\"token class-name\"\u003EMessageHeaders\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token constant\"\u003ECONTENT_TYPE\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n                    \u003Cspan class=\"token class-name\"\u003EMimeTypeUtils\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token constant\"\u003EAPPLICATION_JSON\u003C\u002Fspan\u003E\n                \u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n                \u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EsetHeader\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"type\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003EgetEventType\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n                \u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Ebuild\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"token keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003EpublishAfterCommit\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token class-name\"\u003ETransactionSynchronizationManager\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EregisterSynchronization\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\n            \u003Cspan class=\"token keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"token class-name\"\u003ETransactionSynchronizationAdapter\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n                \u003Cspan class=\"token annotation punctuation\"\u003E@Override\u003C\u002Fspan\u003E\n                \u003Cspan class=\"token keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003EafterCompletion\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token keyword\"\u003Eint\u003C\u002Fspan\u003E status\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n                    \u003Cspan class=\"token class-name\"\u003EAbstractEvent\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token keyword\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Epublish\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n                \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n            \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E해당 \"예제1)\" 코드는 AbstractEvent.java 파일로, 해당 클래스를 상속한 후 publishAfterCommit()을 실행 시키면 Message broker에 메시지를 전달하도록 하는 예제 입니다.\u003C\u002Fp\u003E\n\u003Ch4 id=\"212-subscriber\"\u003E\u003Ca href=\"#212-subscriber\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E2.1.2 Subscriber\u003C\u002Fh4\u003E\n\u003Cp\u003E메시지를 수신하는 역할로서 Message Broker의 특정 topic에 따라서 수신 하는 부분 입니다. 관심 있는 topic의 메시지가 발행될 때마다 수신되며, condition에 따라서 메시지를 분류 할 수 있습니다.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-java\"\u003E\u003Ccode class=\"language-java\"\u003E\u003Cspan class=\"token comment\"\u003E\u002F\u002F 예제 2) 메시지 수신부\u003C\u002Fspan\u003E\n\u003Cspan class=\"token annotation punctuation\"\u003E@Service\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"token class-name\"\u003EEventListener\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"token annotation punctuation\"\u003E@StreamListener\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\n        value \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token class-name\"\u003EStreams\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token constant\"\u003EINPUT\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \n        condition \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"headers['type'] == 'TroubleIssued'\"\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token annotation punctuation\"\u003E@ProcessTransactional\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003EtroubleIssuedEvent\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token annotation punctuation\"\u003E@Payload\u003C\u002Fspan\u003E \u003Cspan class=\"token class-name\"\u003EString\u003C\u002Fspan\u003E eventBody\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token annotation punctuation\"\u003E@Header\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"type\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token class-name\"\u003EString\u003C\u002Fspan\u003E typeHeader\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token class-name\"\u003ESystem\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Eout\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Eprintln\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"\\n##### listener troubleIssuedEvent : \"\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E+\u003C\u002Fspan\u003E eventBody \u003Cspan class=\"token operator\"\u003E+\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"\\n\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token keyword\"\u003Etry\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n            \u003Cspan class=\"token comment\"\u003E\u002F\u002F 업무 실행 로직 구현.\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Ecatch\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token class-name\"\u003EException\u003C\u002Fspan\u003E e\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n            \u003Cspan class=\"token comment\"\u003E\u002F\u002F Exception 처리\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E@StreamListener\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003ESpring Cloud Stream에서 사용되며, 메시지 브로커로부터 메시지를 수신할 리스너 메소드를 정의 할때 사용됩니다.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003Evalue: 메시지를 수신할 topic을 지정\u003C\u002Fli\u003E\n\u003Cli\u003Econdition: 메시지를 처리하기 전에 조건을 지정합니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"22-화면-정의\"\u003E\u003Ca href=\"#22-%ED%99%94%EB%A9%B4-%EC%A0%95%EC%9D%98\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E2.2 화면 정의\u003C\u002Fh3\u003E\n\u003Cp\u003E외부서비스(APP)에서 제공하는 화면에 대한 정의하여, 라우터를 통한 접근이 가능하도록 URL 정보입니다.\u003C\u002Fp\u003E\n\u003Ch2 id=\"3-프로세스-모델링\"\u003E\u003Ca href=\"#3-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%EB%AA%A8%EB%8D%B8%EB%A7%81\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E3. 프로세스 모델링\u003C\u002Fh2\u003E\n\u003Cp\u003E\"프로세스 정의\"탭 에서 프로세스에 대한 정의를 진행 합니다. 프로세스를 정의하기 위해서 전체적인 TASK를 그리고, 각 TASK 마다 역할을 설정하여, 업무에 대한 내용을 정의 합니다.\u003C\u002Fp\u003E\n\u003Ch3 id=\"31-외부-어플리케이션-설정\"\u003E\u003Ca href=\"#31-%EC%99%B8%EB%B6%80-%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EC%84%A4%EC%A0%95\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E3.1 외부 어플리케이션 설정\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fgithub.com\u002Fsooheon45\u002FImage\u002Fassets\u002F54785805\u002F7e09993e-e3a4-4c96-befc-d428a66fa42f\" alt=\"setting userTask\"\u003E\n이미지 2) User Task 설정\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003E상단에 tools 중 \"Create task\"를 클릭하여 task를 생성합니다. \u003C\u002Fli\u003E\n\u003Cli\u003E생성된 task 클릭하여 \"Change element\" 클릭하여 \"User Task\"으로 변경 합니다.\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fgithub.com\u002Fsooheon45\u002FImage\u002Fassets\u002F54785805\u002F2e789577-171f-4fa2-8093-c4ab8b6ad359\" alt=\"setting userTaskPanel\"\u003E\n이미지 3) UserTask 판넬 설정\u003C\u002Fp\u003E\n\u003Col start=\"3\"\u003E\n\u003Cli\u003E해당 UserTask를 더블클릭하여 우측 판넬에 \"외부 어플리케이션\" 설정 합니다.\u003C\u002Fli\u003E\n\u003Cli\u003E\"외부 어플리케이션\" 설정 후 항목 정의 합니다.\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch4 id=\"311-외부-어플리케이션-설정\"\u003E\u003Ca href=\"#311-%EC%99%B8%EB%B6%80-%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EC%84%A4%EC%A0%95\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E3.1.1 \"외부 어플리케이션\" 설정\u003C\u002Fh4\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003EURL\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E화면에 대한 정의 하는 부분으로서, 외부 어플리케이션의 정의된 화면에 접근 URL정보 입니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EEvent Type\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E이벤트 타입을 정의 하는 부분으로서, 이벤트 발생시 어떤한 이벤트를 수신 할 지에 대한 타입의 정의하는 부분 입니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EEvent Attributes\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E메시지의 속성값 정의 하는 부분으로서, 수신된 메시지를 속성값에 맞게 처리 하기 위해서 정의하는 부분입니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EEvent Mapping\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E수신된 메시지에서 \"Event Attributes\"에 정의된 부분과 다른 정보를 매핑하는 역할으로서, 수신된 메시지에서 정의된 속성값을 추출하여 저장및 처리를 하기 위한 매핑 부분 입니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"312-task의-role-설정\"\u003E\u003Ca href=\"#312-task%EC%9D%98-role-%EC%84%A4%EC%A0%95\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E3.1.2 TASK의 Role 설정\u003C\u002Fh3\u003E\n\u003Cp\u003E업무(TASK)에 따라서 Role을 설정할 수 있습니다. Role의 설정은 Lane 단위로 가능 하며, 총 3가지의 옵션에 따라서 Role타입이 정의 됩니다.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003ENone\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ERole을 설정 하지 않음 (미설정)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003ERole Resolution By IAM Scope\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EIAM에 정의 된 Scope에 따라서 Scope명 지정 ( Ex) Manager, Staff 등)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003ERole Resolution By Direct user\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E직접적인 유저 지정(Ex) xxx@email.com, xxx 등)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fgithub.com\u002Fsooheon45\u002FImage\u002Fassets\u002F54785805\u002F4aeef47f-4a3d-4409-a215-d4a8d2387efa\" alt=\"scope 설정\"\u003E\n이미지 4) \"manager\" Lane 에서 manager scope 설정\u003C\u002Fp\u003E\n\u003Ch3 id=\"32-실행방법\"\u003E\u003Ca href=\"#32-%EC%8B%A4%ED%96%89%EB%B0%A9%EB%B2%95\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E3.2 실행방법\u003C\u002Fh3\u003E\n\u003Ch4 id=\"321-프로세스-정의체계도-정의\"\u003E\u003Ca href=\"#321-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%EC%A0%95%EC%9D%98%EC%B2%B4%EA%B3%84%EB%8F%84-%EC%A0%95%EC%9D%98\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E3.2.1 프로세스 정의체계도 정의\u003C\u002Fh4\u003E\n\u003Col\u003E\n\u003Cli\u003E\"프로세스 정의체계도\"탭으로 이동 합니다.\u003C\u002Fli\u003E\n\u003Cli\u003EMega프로세스, Major프로세스, Sub프로세스 을 분류를 합니다.\u003C\u002Fli\u003E\n\u003Cli\u003ESub프로세스 에서 사용할 프로세스를 저장 합니다.\n\u003Cimg src=\"https:\u002F\u002Fgithub.com\u002Fsooheon45\u002FImage\u002Fassets\u002F54785805\u002F282e52f0-6df7-4f01-a0c1-c22142efd6ec\" alt=\"Sub프로세스\"\u003E\n이미지 5) Sub프로세스 에서 정의된 프로세스 저장\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch4 id=\"322-실행\"\u003E\u003Ca href=\"#322-%EC%8B%A4%ED%96%89\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E3.2.2 실행\u003C\u002Fh4\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fgithub.com\u002Fsooheon45\u002FImage\u002Fassets\u002F54785805\u002Fc914af68-e521-409b-a323-b700dc4a16f8\" alt=\"실행\"\u003E\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003ESub프로세스에 정의된 프로세스를 클릭하면, 해당 정의된 프로세스를 불러오게 됩니다.\u003C\u002Fli\u003E\n\u003Cli\u003E우측 상단에 플레이 버튼을 클릭하여 프로세스 실행합니다.\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n","sidebar":"getting-started","next":"","prev":"","headings":[{"depth":1,"value":"외부서비스와 BPM연동","anchor":"#외부서비스와-bpm연동"},{"depth":2,"value":"1. 구성","anchor":"#1-구성"},{"depth":2,"value":"2. 외부서비스(APP)","anchor":"#2-외부서비스app"},{"depth":3,"value":"2.1 Message broker (Publisher\u002FSubscriber)","anchor":"#21-message-broker-publishersubscriber"},{"depth":4,"value":"2.1.1 Publisher","anchor":"#211-publisher"},{"depth":4,"value":"2.1.2 Subscriber","anchor":"#212-subscriber"},{"depth":3,"value":"2.2 화면 정의","anchor":"#22-화면-정의"},{"depth":2,"value":"3. 프로세스 모델링","anchor":"#3-프로세스-모델링"},{"depth":3,"value":"3.1 외부 어플리케이션 설정","anchor":"#31-외부-어플리케이션-설정"},{"depth":4,"value":"3.1.1 \"외부 어플리케이션\" 설정","anchor":"#311-외부-어플리케이션-설정"},{"depth":3,"value":"3.1.2 TASK의 Role 설정","anchor":"#312-task의-role-설정"},{"depth":3,"value":"3.2 실행방법","anchor":"#32-실행방법"},{"depth":4,"value":"3.2.1 프로세스 정의체계도 정의","anchor":"#321-프로세스-정의체계도-정의"},{"depth":4,"value":"3.2.2 실행","anchor":"#322-실행"}]},"allMarkdownPage":{"edges":[{"node":{"path":"\u002Fbpm-engine\u002Fresource-manager\u002F","title":"Resource Manager"}},{"node":{"path":"\u002Fbpm-engine\u002Fintroduction\u002F","title":"기본 소개"}},{"node":{"path":"\u002Fbpm-engine\u002Fexecution\u002F","title":"실행하기"}},{"node":{"path":"\u002Fbpm-engine\u002Fdefinition\u002F","title":"Definition"}},{"node":{"path":"\u002Fbpm-engine\u002Finstance\u002F","title":"Instance"}},{"node":{"path":"\u002Fgetting-started\u002Fsoa-architecture\u002F","title":"SOA (MSA) 아키텍처 예제"}},{"node":{"path":"\u002Fbpm-engine\u002Factivity\u002F","title":"Activity"}},{"node":{"path":"\u002Fgetting-started\u002Fprocess-workflow\u002F","title":"사람간의 프로세스 Workflow"}},{"node":{"path":"\u002Fgetting-started\u002F","title":"모델링 툴의 사용법"}},{"node":{"path":"\u002Fbpm-concept\u002Fworkflow\u002F","title":"워크플로우"}},{"node":{"path":"\u002Fbpm-concept\u002Fworkflow-management-system\u002F","title":"워크플로우 관리 시스템과 RTE BPM"}},{"node":{"path":"\u002Fbpm-concept\u002Fexample-video\u002F","title":"Example Video"}},{"node":{"path":"\u002Fbpm-concept\u002Fopen-source\u002F","title":"오픈소스 BPMS uEngine 소개"}},{"node":{"path":"\u002Fbpm-concept\u002Ffacebook\u002F","title":"Facebook group"}},{"node":{"path":"\u002Fbpm-concept\u002Fbusiness-process\u002F","title":"비즈니스 프로세스와 BPM"}},{"node":{"path":"\u002Fapi-customizing\u002Ftransaction-listener\u002F","title":"uEngine5 트랜잭션 리스너"}},{"node":{"path":"\u002Fapi-customizing\u002Fscript-task\u002F","title":"[Modeling] ScriptTask"}},{"node":{"path":"\u002Fapi-customizing\u002Fnew-activity\u002F","title":"새로운 액티비티 타입 만들기"}},{"node":{"path":"\u002Fapi-customizing\u002Fmigration\u002F","title":"uEngine3.x 에서 uEngine5 로의 마이그래이션"}},{"node":{"path":"\u002Fapi-customizing\u002Fexternal-service\u002F","title":"외부서비스와 BPM연동"}},{"node":{"path":"\u002Fapi-customizing\u002Fmessage-listener\u002F","title":"[API] Message Listener API"}},{"node":{"path":"\u002Fapi-customizing\u002Fcreate-project\u002F","title":"uEngine5 기반 프로젝트 만들기"}},{"node":{"path":"\u002Fapi-customizing\u002Fapi-reference\u002F","title":"uEngine5 API Reference"}}]}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.f6717175.js" defer></script><script src="/assets/js/page--src--templates--markdown-page-vue.c8b6f5d4.js" defer></script>
  </body>
</html>
