{"hash":"9be2221c3f2e3daa086032b27afe481063c201ea","data":{"markdownPage":{"id":"f053b487b74311c01b572462ff1a4925","title":"uEngine3.x 마이그래이션","description":"","path":"/api-customizing/migration/","timeToRead":2,"content":"<h1 id=\"uengine3x-마이그래이션\"><a href=\"#uengine3x-%EB%A7%88%EC%9D%B4%EA%B7%B8%EB%9E%98%EC%9D%B4%EC%85%98\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>uEngine3.x 마이그래이션</h1>\n<h3>Migrating uEngine 3 or 4 Process Definitions to uEngine6</h3>\n<ul>\n<li><strong>Using the migrator</strong></li>\n</ul>\n<pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>uengine<span class=\"token punctuation\">.</span>migrator</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">org<span class=\"token punctuation\">.</span>uengine<span class=\"token punctuation\">.</span>components<span class=\"token punctuation\">.</span>serializers<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ActivityRepositoryConverter</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">org<span class=\"token punctuation\">.</span>uengine<span class=\"token punctuation\">.</span>kernel<span class=\"token punctuation\">.</span></span><span class=\"token operator\">*</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">org<span class=\"token punctuation\">.</span>uengine<span class=\"token punctuation\">.</span>kernel<span class=\"token punctuation\">.</span>bpmn<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">CallActivity</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">org<span class=\"token punctuation\">.</span>uengine<span class=\"token punctuation\">.</span>modeling<span class=\"token punctuation\">.</span>resource<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Serializer</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">org<span class=\"token punctuation\">.</span>uengine<span class=\"token punctuation\">.</span>processpublisher<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">MigUtils</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">org<span class=\"token punctuation\">.</span>uengine<span class=\"token punctuation\">.</span>processpublisher<span class=\"token punctuation\">.</span>uengine3<span class=\"token punctuation\">.</span>importer<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ProcessDefinitionAdapter</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">org<span class=\"token punctuation\">.</span>uengine<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ActivityFor</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">org<span class=\"token punctuation\">.</span>uengine<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">UEngineUtil</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token operator\">*</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Hashtable</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token doc-comment comment\">/**\n * Created by uengine on 2017. 6. 16..\n */</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UEngine3Converter</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>\n\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">.</span>length <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> args <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"example.3upd\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">FileInputStream</span> inputFileStream <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileInputStream</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">ByteArrayOutputStream</span> bao <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ByteArrayOutputStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">UEngineUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">copyStream</span><span class=\"token punctuation\">(</span>inputFileStream<span class=\"token punctuation\">,</span> bao<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">String</span> inputString <span class=\"token operator\">=</span> bao<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//LGD 추가</span>\n        inputString <span class=\"token operator\">=</span> inputString<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"org.uengine.kernel.OCAPProcessDefinition\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"org.uengine.kernel.ProcessDefinition\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        inputString <span class=\"token operator\">=</span> inputString<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"org.uengine.kernel.EndActivity\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"org.uengine.kernel.DefaultActivity\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        inputString <span class=\"token operator\">=</span> inputString<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"com.lgdisplay.activity.OCAPBackActivity\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"org.uengine.kernel.DefaultActivity\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        inputString <span class=\"token operator\">=</span> inputString<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"org.uengine.kernel.ActivityRepository\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"java.util.ArrayList\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        inputString <span class=\"token operator\">=</span> inputString<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"kitech.apr.activity.KitechHumanActivity\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"org.uengine.kernel.HumanActivity\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        inputString <span class=\"token operator\">=</span> inputString<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">SubProcessActivity</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">CallActivity</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">ProcessDefinition</span> processDefinition3 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">ProcessDefinition</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Serializer</span><span class=\"token punctuation\">.</span><span class=\"token function\">deserialize</span><span class=\"token punctuation\">(</span>inputString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n         <span class=\"token comment\">//set max tracing tag value</span>\n        <span class=\"token class-name\">MigUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">setMaxTracingTag</span><span class=\"token punctuation\">(</span>processDefinition3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">ProcessDefinitionAdapter</span> processDefinitionAdapter <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ProcessDefinitionAdapter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">Hashtable</span> hashtable <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Hashtable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        processDefinitionAdapter<span class=\"token punctuation\">.</span><span class=\"token function\">convert</span><span class=\"token punctuation\">(</span>processDefinition3<span class=\"token punctuation\">,</span> hashtable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">ProcessDefinition</span> processDefinition5 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">ProcessDefinition</span><span class=\"token punctuation\">)</span> hashtable<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"root\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">Serializer</span><span class=\"token punctuation\">.</span><span class=\"token function\">serialize</span><span class=\"token punctuation\">(</span>processDefinition5<span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileOutputStream</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span><span class=\"token string\">\".5.process\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<pre class=\"language-text\"><code class=\"language-text\">java org.uengine.migrator.UEngine3Converter uengine3.process</code></pre>\n<ul>\n<li>Then, you can get uengine3.process.5.process for the converted version of input file.</li>\n</ul>\n<h3>기존 uEngine 3.x 대의 프로세스 정의 모델 (블록 기반) 을 이해하고 싶다면 다음을 참고</h3>\n<div style = \"height:400px; object-fit: cover;\">\n<iframe style = \"width:100%; height:100%;\" src=\"https://www.youtube.com/embed/pjzQtRa7nNQ\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n</div>\n<p><br><br></p>\n<div style = \"height:400px; object-fit: cover;\">\n<iframe style = \"width:100%; height:100%;\" src=\"https://www.youtube.com/embed/mGJ8CAnzc6Q\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n</div>\n<p><br><br></p>\n<h3>신규 uEngine6 의 프로세스 정의 모델 (그래프 기반) 을 이해하고 싶다면 다음을 참고</h3>\n<div style = \"height:400px; object-fit: cover;\">\n<iframe style = \"width:100%; height:100%;\" src=\"https://www.facebook.com/plugins/video.php?height=420&href=https%3A%2F%2Fwww.facebook.com%2F1401720840%2Fvideos%2F10204571371469880%2F&show_text=false&width=560&t=0\" width=\"560\" height=\"420\" style=\"border:none;overflow:hidden\" scrolling=\"no\" frameborder=\"0\" allowfullscreen=\"true\" allow=\"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share\" allowFullScreen=\"true\"></iframe>\n</div>\n","sidebar":"getting-started","next":"","prev":"","headings":[{"depth":1,"value":"uEngine3.x 마이그래이션","anchor":"#uengine3x-마이그래이션"}]},"allMarkdownPage":{"edges":[{"node":{"path":"/getting-started/soa-architecture/","title":"SOA (MSA) 아키텍처 예제"}},{"node":{"path":"/getting-started/soa-architecture-message/","title":"SOA (MSA) 아키텍처 예제 - Message"}},{"node":{"path":"/getting-started/soa-architecture-event/","title":"SOA (MSA) 아키텍처 예제 - Event"}},{"node":{"path":"/getting-started/process-workflow/","title":"사람간의 프로세스 Workflow"}},{"node":{"path":"/getting-started/modeling-tools/","title":"모델링 툴의 사용법"}},{"node":{"path":"/getting-started/multiple-instance/","title":"멀티플 인스턴스"}},{"node":{"path":"/getting-started/form-mapping/","title":"폼 매핑"}},{"node":{"path":"/getting-started/process-monitoring/","title":"프로세스 실행"}},{"node":{"path":"/bpm-concept/workflow-management-system/","title":"워크플로우 관리 시스템과 RTE BPM"}},{"node":{"path":"/getting-started/process-definition/","title":""}},{"node":{"path":"/getting-started/","title":"실행환경 구성"}},{"node":{"path":"/bpm-concept/workflow/","title":"워크플로우"}},{"node":{"path":"/getting-started/database-table/","title":"테이블 정의"}},{"node":{"path":"/getting-started/form-definition/","title":"폼 관리"}},{"node":{"path":"/getting-started/conditional-branch/","title":"조건 분기 처리"}},{"node":{"path":"/api-customizing/external-service/","title":"애플리케이션과 BPM 연동(비동기 방식)"}},{"node":{"path":"/bpm-concept/example-video/","title":"Example Video"}},{"node":{"path":"/bpm-concept/open-source/","title":"오픈소스 BPMS uEngine 소개"}},{"node":{"path":"/bpm-concept/facebook/","title":"Facebook group"}},{"node":{"path":"/bpm-concept/business-process/","title":"비즈니스 프로세스와 BPM"}},{"node":{"path":"/api-customizing/api-reference-old/","title":"uEngine6 API Reference"}},{"node":{"path":"/api-customizing/new-activity/","title":"새로운 액티비티 타입 만들기"}},{"node":{"path":"/api-customizing/transaction-listener/","title":"uEngine6 트랜잭션 리스너"}},{"node":{"path":"/api-customizing/migration/","title":"uEngine3.x 마이그래이션"}},{"node":{"path":"/api-customizing/api-reference/","title":"uEngine6 API Reference"}},{"node":{"path":"/api-customizing/script-task/","title":"[Modeling] ScriptTask"}},{"node":{"path":"/api-customizing/create-project/","title":"uEngine6 기반 프로젝트 만들기"}},{"node":{"path":"/api-customizing/message-listener/","title":"[API] Message Listener API"}}]}},"context":{}}